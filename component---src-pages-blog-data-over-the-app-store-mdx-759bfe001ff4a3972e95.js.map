{"version":3,"sources":["webpack:///./src/pages/blog/data-over-the-app-store.mdx","webpack:///./src/components/default.jsx","webpack:///./src/components/colors.js","webpack:///./src/fonts/Bariol-Regular.eot","webpack:///./src/fonts/Bariol-Regular.woff","webpack:///./src/fonts/Bariol-Regular.ttf","webpack:///./src/fonts/Bariol-Regular.svg","webpack:///./src/components/Nav.jsx","webpack:///./src/components/BlogPost.jsx","webpack:///./src/components/MarkdownContent.jsx","webpack:///./src/lib/dateFormat.js","webpack:///./src/components/EndButtons.jsx","webpack:///./src/lib/twitter.js","webpack:///./src/components/Disqus.jsx","webpack:///./src/components/BlogPageLayout.jsx"],"names":["_frontmatter","layoutProps","MDXLayout","DefaultLayout","MDXContent","_ref","components","props","_objectWithoutPropertiesLoose","Object","_mdx_js_react__WEBPACK_IMPORTED_MODULE_6__","assign","mdxType","_components_CaptionedImage__WEBPACK_IMPORTED_MODULE_9__","filename","alt","caption","_components_DataLink__WEBPACK_IMPORTED_MODULE_8__","parentName","href","className","isMDXComponent","GlobalStyle","createGlobalStyle","_templateObject","bariol_eot","bariol_woff","bariol_ttf","bariol_svg","Div","styled","div","withConfig","displayName","componentId","UL","nav","ul","LI","li","P","p","A","a","__webpack_require__","d","__webpack_exports__","blue","blueHighlight","module","exports","react__WEBPACK_IMPORTED_MODULE_0__","react__WEBPACK_IMPORTED_MODULE_0___default","n","_components_default__WEBPACK_IMPORTED_MODULE_1__","_components_colors__WEBPACK_IMPORTED_MODULE_2__","styled_components__WEBPACK_IMPORTED_MODULE_3__","react_icons_io__WEBPACK_IMPORTED_MODULE_4__","react_icons_fa__WEBPACK_IMPORTED_MODULE_5__","StyledNav","Title","NavLinks","NavLink","StyledA","Nav","createElement","blog","aria-label","color","size","BlogPostContainer","darkened","css","TitleContainer","Heading","h1","DateContainer","BlogPostMeta","react_helmet__WEBPACK_IMPORTED_MODULE_2__","title","date","React","Component","Container","MarkdownContent","render","this","children","componentDidMount","elements","ReactDOM","findDOMNode","querySelectorAll","i","length","window","hljs","highlightBlock","formatDateString","dateString","Date","toLocaleDateString","year","month","day","ButtonStyle","margin","Button","react_default","components_default","url","target","newTab","label","EndButtons","text","twitterUrl","tweetTitle","tweetUrl","encodeURIComponent","EndButtons_Button","fa","io","Wrapper","Disqus","id","s","document","src","setAttribute","head","body","appendChild","NonContent","BlogPageLayout","isDarkMode","matchMedia","matches","BlogPageLayout_Container","Helmet","rel","type","name","content","property","location","pathname","pageContext","frontmatter","staticPreview","BlogPost","EndButtons_EndButtons","Disqus_Disqus","ReactGA","initialize","pageview","search"],"mappings":"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","file":"component---src-pages-blog-data-over-the-app-store-mdx-759bfe001ff4a3972e95.js","sourcesContent":["import React from 'react'\n  /* @jsx mdx */\nimport { mdx } from '@mdx-js/react';\n/* @jsx mdx */\n\nimport DefaultLayout from \"/Users/noahgilmore/code/noahgilmore.com/src/components/BlogPageLayout.jsx\";\nimport { TrestleBlogPostLink } from \"../../components/DataLink\";\nimport CaptionedImage from '../../components/CaptionedImage';\nexport const _frontmatter = {};\n\nconst makeShortcode = name => function MDXDefaultShortcode(props) {\n  console.warn(\"Component \" + name + \" was not imported, exported, or provided by MDXProvider as global scope\");\n  return <div {...props} />;\n};\n\nconst layoutProps = {\n  _frontmatter\n};\nconst MDXLayout = DefaultLayout;\nexport default function MDXContent({\n  components,\n  ...props\n}) {\n  return <MDXLayout {...layoutProps} {...props} components={components} mdxType=\"MDXLayout\">\n\n\n\n    <CaptionedImage filename=\"safari-trestle.png\" alt=\"Safari and Trestle icons\" caption=\"Safari and Trestle icons\" mdxType=\"CaptionedImage\" />\n    <p>{`About a year ago I wrote a puzzle game called `}<TrestleBlogPostLink mdxType=\"TrestleBlogPostLink\">{`Trestle`}</TrestleBlogPostLink>{`. If you download it using `}<TrestleBlogPostLink mdxType=\"TrestleBlogPostLink\">{`this link`}</TrestleBlogPostLink>{` or any of the links in this post (by clicking on them on your iOS device), you'll get a nice Easter egg and two of the (normally paid) level sets enabled for free.`}</p>\n    <p>{`In this post, I'm going to describe the technique behind how I implemented this referral link without a backend or third party service, using `}<inlineCode parentName=\"p\">{`UIPasteboard`}</inlineCode>{`.`}</p>\n    <p><em parentName=\"p\">{`Disclaimer: I'm not recommending you use this in production to power your business-critical flows, since it's a non-standard use of an API and a few things could change that would break it. It might be tenable in small use cases, but might also be grounds for App Store rejection. Use at your own risk.`}</em></p>\n    <h1>{`Background`}</h1>\n    <p>{`It's common in iOS development, especially when you have a mobile web version of a product along with an app, to want to take some action on first app launch based on how the user was interacting with your product before.`}</p>\n    <p>{`As an example, imagine you're Facebook and the user is viewing a profile in Safari, then decides to download the app via a button on the page - you'd ideally open that profile when the app launches. I like to call this \"passing data over the app store\", and Apple doesn't provide an official API for it.`}</p>\n    <p>{`There are tricky ways to hack around this restriction - one of the most common is called \"fingerprinting\", where you use a variety of signals to try to link a user's web session to their app session. With this technique, you collect data about the user's browser (IP address, etc) beforehand, and make a call to your server on app launch to try to give your app data about what flow to present, if any.`}</p>\n    <p>{`The implementation of this approach is pretty involved and usually implemented by a third party company like `}<a parentName=\"p\" {...{\n        \"href\": \"https://branch.io/\"\n      }}>{`Branch`}</a>{`, or with your own backend if you're a big enough operation. I'm going to describe a simpler method which requires no backend (and doesn't track any remote user data) using `}<a parentName=\"p\" {...{\n        \"href\": \"https://developer.apple.com/documentation/uikit/uipasteboard\"\n      }}>{`UIPasteboard`}</a>{`.`}</p>\n    <h1>{`The idea`}</h1>\n    <p>{`The general approach looks like this:`}</p>\n    <ol>\n      <li parentName=\"ol\">{`Write a link on your website which, on click, both opens the url and copies it into the pasteboard with data encoded as a url parameter`}</li>\n      <li parentName=\"ol\">{`On `}<inlineCode parentName=\"li\">{`didFinishLaunchingWithOptions`}</inlineCode>{`, read the pasteboard, decode the data, and use it to take action`}</li>\n    </ol>\n    <CaptionedImage filename=\"pasteboard-diagram.png\" alt=\"Diagram showing Safari connected with Trestle over the app store via UIPasteboard\" caption=\"\" mdxType=\"CaptionedImage\" />\n    <h2>{`Step 1: Copying a link (Javascript)`}</h2>\n    <p>{`In Javascript (depending on your browser) it's possible to programmatically copy to the clipboard using `}<inlineCode parentName=\"p\">{`document.execCommand(\"copy\")`}</inlineCode>{` (see `}<a parentName=\"p\" {...{\n        \"href\": \"https://developer.mozilla.org/en-US/docs/Web/API/Document/execCommand\"\n      }}>{`MDN docs`}</a>{`). The API is a little finicky - you have to construct a DOM element and fill it with the content you want to copy, and you can only use `}<inlineCode parentName=\"p\">{`input`}</inlineCode>{` and `}<inlineCode parentName=\"p\">{`textarea`}</inlineCode>{` elements, but it works! I tested this on iOS 11 and 12, but according to `}<a parentName=\"p\" {...{\n        \"href\": \"https://caniuse.com/#feat=clipboard\"\n      }}>{`caniuse`}</a>{` it looks like it's supported as far back as iOS 10. It even works on mobile Chrome (note though - it won't work in the iOS simulator).`}</p>\n    <p>{`Here's the code to copy a string to the pasteboard (thanks in part to `}<a parentName=\"p\" {...{\n        \"href\": \"https://stackoverflow.com/questions/34045777/copy-to-clipboard-using-javascript-in-ios\"\n      }}>{`this stackoverflow post`}</a>{`):`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-javascript\"\n      }}>{`function iosCopyToClipboard(string) {\n    let el = document.createElement(\"input\");\n    el.contentEditable = true;\n    el.readOnly = false;\n    el.value = string;\n    el.style = \"position: absolute; top: 0; left: 0; width: 100%; font-size: 0; opacity: 0.0\";\n    document.body.appendChild(el);\n\n    let range = document.createRange();\n    range.selectNodeContents(el);\n    let s = window.getSelection();\n    s.removeAllRanges();\n    s.addRange(range);\n\n    // A big number, to cover anything that could be inside the element.\n    el.setSelectionRange(0, 999999);\n\n    return document.execCommand('copy');\n}\n`}</code></pre>\n    <p>{`(You might notice the odd CSS on this element - we have to make it the whole width of the page or else Safari might zoom to it before opening the link, and we have to make it opaque and font-size 0 in order to avoid showing an iOS selection UI.)`}</p>\n    <p>{`Once we've got this working, it's easy enough to take some data, base64 encode it, and copy it to the clipboard in addition to the link's href. We'll add a custom parameter to the copied url (I've called the parameter `}<inlineCode parentName=\"p\">{`ed`}</inlineCode>{` for \"encoded data\"). Note that we include a timestamp of when the link was clicked - we'll need this for later. I'm using React here, but other frameworks or even `}<a parentName=\"p\" {...{\n        \"href\": \"http://vanilla-js.com/\"\n      }}>{`vanilla JS`}</a>{` should be similar:`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-jsx\"\n      }}>{`class DataLink extends React.Component {\n    handleOnClick() {\n        let data = {\n            timestamp: Date.now(),\n            ...this.props.data\n        }\n        let json = JSON.stringify(data);\n        let encoded = btoa(json)\n        let toAppend;\n        if (this.props.href.includes(\"?\")) {\n            toAppend = \"&ed=\" + encoded\n        } else {\n            toAppend = \"?ed=\" + encoded\n        }\n        iosCopyToClipboard(this.props.href + toAppend);\n    }\n\n    render() {\n        return (\n            <a href={this.props.href} onClick={this.handleOnClick.bind(this)}>{\n                this.props.children}\n            </a>\n        );\n    }\n};\n`}</code></pre>\n    <p>{`Now, let's construct a link with JSON data that we want to pass to our app:`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-jsx\"\n      }}>{`const TrestleBlogPostLink = (props) => {\n    let data = {\"referrer\": \"pasteboard-blog-post\"};\n    return (\n        <DataLink\n            data={data}\n            href={\"https://itunes.apple.com/us/app/trestle-the-new-sudoku/id1300230302?mt=8\"}\n        >\n            {props.children}\n        </DataLink>);\n};\n`}</code></pre>\n    <p>{`When the user clicks on this link they'll be redirected to the app store, with the modified link in their pasteboard.`}</p>\n    <h2>{`Step 2: Reading the link (Swift)`}</h2>\n    <p>{`From the app side, we'll hook into `}<a parentName=\"p\" {...{\n        \"href\": \"https://developer.apple.com/documentation/uikit/uipasteboard\"\n      }}>{`UIPasteboard`}</a>{`, a UIKit class which allows your app to integrate with iOS's copy and paste functionality. You can access the current contents of the general pasteboard (the one that gets updated when the user copies and pastes) using `}<inlineCode parentName=\"p\">{`UIPasteboard.general`}</inlineCode>{` - `}<inlineCode parentName=\"p\">{`UIPasteboard.general.strings`}</inlineCode>{` gives you the current text contents (pasteboard can also hold images, colors, etc).`}</p>\n    <p>{`For `}<TrestleBlogPostLink mdxType=\"TrestleBlogPostLink\">{`Trestle`}</TrestleBlogPostLink>{`, I decided to encapsulate this functionality into an `}<inlineCode parentName=\"p\">{`AppStoreBridge`}</inlineCode>{` class - this class will have the responsibility of checking the pasteboard and reporting to its delegate if it sees a referral link.`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-swift\"\n      }}>{`protocol AppStoreBridgeDelegate: class {\n    func appStoreBridge(\n        _ bridge: AppStoreBridge,\n        didTriggerCampaignLinkReferrer: String\n    )\n}\n\nfinal class AppStoreBridge {\n    static let shared = AppStoreBridge()\n\n    weak var delegate: AppStoreBridgeDelegate?\n\n    func checkForReferralLinks() {\n        // Check the UIPasteboard here...\n    }\n}\n`}</code></pre>\n    <p>{`To fill in the body of `}<inlineCode parentName=\"p\">{`checkForReferralLinks`}</inlineCode>{`, let's first define the referral data we're looking for:`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-swift\"\n      }}>{`struct ReferralData: Codable {\n    let timestamp: TimeInterval\n    let referrer: String\n}\n`}</code></pre>\n    <p>{`Now we'll iterate through all the strings in the pasteboard, and check them (using a wall of `}<inlineCode parentName=\"p\">{`guard`}</inlineCode>{` statements) to see the URL we're expecting: `}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-swift\"\n      }}>{`let pasteboard = UIPasteboard.general\nguard let strings = pasteboard.strings else { return }\nfor string in strings {\n    if string.contains(\"id1300230302\") {\n        guard let url = URL(string: string) else { return }\n        guard let components = URLComponents(\n            url: url,\n            resolvingAgainstBaseURL: false\n        ) else { return }\n        guard let queryItems = components.queryItems else { return }\n        guard let value = queryItems.filter(\n            { $0.name == \"ed\" }\n        ).first?.value else { return }\n        guard let data = Data(base64Encoded: value) else { return }\n        let decoder = JSONDecoder()\n        guard let referral = try? decoder.decode(\n            ReferralData.self,\n            from: data\n        ) else { return }\n        /// Use the referral object...\n    }\n}\n`}</code></pre>\n    <p>{`Note here that we use a string that we know will be in the URL (`}<inlineCode parentName=\"p\">{`\"id1300230302\"`}</inlineCode>{`) to quickly filter out any other pasteboard items.`}</p>\n    <p>{`Now all that's left is to report the referral! However, we probably only want to take action if the user recently clicked the link - I used a timeout of 5 minutes here:`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-swift\"\n      }}>{`let referralClickDate = Date(timeIntervalSince1970: referral.timestamp)\nlet currentDate = Date()\nif currentDate.minutes(from: referralClickDate) < 5 {\n    self.delegate?.appStoreBridge(\n        self,\n        didTriggerCampaignLinkReferrer: referral.referrer\n    )\n    return\n}\n`}</code></pre>\n    <p>{`The small Date extension to make this possible looks like:`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-swift\"\n      }}>{`extension Date {\n    func minutes(from date: Date) -> Int {\n        return Calendar.current.dateComponents(\n            [.minute],\n            from: date,\n            to: self\n        ).minute ?? 0\n    }\n}\n`}</code></pre>\n    <p>{`And we're done! Our app store bridge tells the app delegate that it noticed a referral, and we can then take any action we want!`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-swift\"\n      }}>{`extension AppDelegate: AppStoreBridgeDelegate {\n    func appStoreBridge(\n        _ bridge: AppStoreBridge,\n        didTriggerCampaignLink referrer: String\n    ) {\n        if referrer == \"pasteboard-blog-post\" {\n            // Show an easter egg, unlock level sets, etc...\n        }\n    }\n}\n`}</code></pre>\n    <h1>{`UX considerations`}</h1>\n    <p>{`There are a couple of user experience issues to keep in mind here:`}</p>\n    <ol>\n      <li parentName=\"ol\">{`Using this technique clobbers whatever's in the user's pasteboard currently. Usually this won't be a problem, because users should understand the pasteboard is ephemeral, but you might not want to do this if copying and pasting in your web app is a common use case (text editor, etc).`}</li>\n      <li parentName=\"ol\">{`It's important to remember, on your call to `}<inlineCode parentName=\"li\">{`didTriggerCampaignLink`}</inlineCode>{`, to save some sort of flag locally so as not to accidentally trigger the referral link the next time the user opens the app. Trestle uses UserDefaults for this, which is probably as good a store as any.`}</li>\n    </ol>\n    <h1>{`Security considerations`}</h1>\n    <p>{`We should always consider approaches like this with security in mind, and this technique warrants a few very important considerations:`}</p>\n    <ol>\n      <li parentName=\"ol\">{`If you take any action from the `}<inlineCode parentName=\"li\">{`AppStoreBridge`}</inlineCode>{`, assume that `}<em parentName=\"li\">{`anyone`}</em>{` can trigger that action `}<em parentName=\"li\">{`at any time`}</em>{`. This means you don't want to take actions that expose private data, make payments, etc. Consider your `}<inlineCode parentName=\"li\">{`AppStoreBridge`}</inlineCode>{` functionality as publicly exposed, since an attacker could pre-populate the pasteboard with anything they want to trigger the `}<inlineCode parentName=\"li\">{`AppStoreBridge`}</inlineCode>{` logic.`}</li>\n      <li parentName=\"ol\">{`Don't expose any private information via the `}<inlineCode parentName=\"li\">{`DataLink`}</inlineCode>{`, `}<em parentName=\"li\">{`especially`}</em>{` not user session tokens. Other apps can read the pasteboard too, so assume that all data encoded in a `}<inlineCode parentName=\"li\">{`DataLink`}</inlineCode>{` will be publicly available to anyone. Don't include anything in a data link that could be associated with a user's PII (personally identifiable information) including emails, locations, etc.`}</li>\n    </ol>\n    <h1>{`Will this get my app rejected?`}</h1>\n    <p><a parentName=\"p\" {...{\n        \"href\": \"https://developer.apple.com/app-store/review/guidelines/#software-requirements\"\n      }}>{`Section 2.5.1 of the App Store Review Guidelines`}</a>{` says the following:`}</p>\n    <blockquote>\n      <p parentName=\"blockquote\">{`Apps should use APIs and frameworks for their intended purposes and indicate that integration in their app description.`}</p>\n    </blockquote>\n    <p>{`Though this is probably referring more to frameworks like HomeKit (mentioned as an example), using `}<inlineCode parentName=\"p\">{`UIPasteboard`}</inlineCode>{` as described in this post is technically an unintended use of the API. Your mileage might vary, and I'm not claiming anything about this approach.`}</p>\n    <p>{`There are also a few things that could change that would throw a wrench in things - the behavior of the execCommand could change, Apple could change the behavior of the general pasteboard, etc. This technique was a good use case for `}<TrestleBlogPostLink mdxType=\"TrestleBlogPostLink\">{`Trestle`}</TrestleBlogPostLink>{`, but might not match yours. ü§∑‚Äç‚ôÇ`}</p>\n    <h1>{`Conclusion`}</h1>\n    <p>{`Hopefully this was an interesting technical discussion of a simple way to get around a complicated problem, and provide user delight in the flow from mobile web to app. If you have any other hacky ideas about how to pass data across the app store, feel free to `}<a parentName=\"p\" {...{\n        \"href\": \"https://twitter.com/noahsark769\"\n      }}>{`reach out`}</a>{`. (And if you'd like to see `}<inlineCode parentName=\"p\">{`UIPasteboard`}</inlineCode>{` in action, you can download Trestle using `}<TrestleBlogPostLink mdxType=\"TrestleBlogPostLink\">{`this link`}</TrestleBlogPostLink>{`.)`}</p>\n\n    </MDXLayout>;\n}\n;\nMDXContent.isMDXComponent = true;\n      ","import styled from \"styled-components\";\nimport { createGlobalStyle } from 'styled-components'\nimport bariol_eot from '../fonts/Bariol-Regular.eot';\nimport bariol_woff from '../fonts/Bariol-Regular.woff';\nimport bariol_ttf from '../fonts/Bariol-Regular.ttf';\nimport bariol_svg from '../fonts/Bariol-Regular.svg';\n\nexport const GlobalStyle = createGlobalStyle`\n    @font-face {\n        font-family: 'Bariol';\n        src: url('${bariol_eot}');\n        src: url('${bariol_eot}?#iefix') format('embedded-opentype'),\n             url('${bariol_woff}') format('woff'),\n             url('${bariol_ttf}') format('truetype'),\n             url('${bariol_svg}#svgBariolRegular') format('svg');\n    }\n\n    * {\n        box-sizing: border-box !important;\n    }\n\n    body {\n        margin: 0;\n        padding: 0;\n    }\n`;\n\nexport const Div = styled.div``;\nexport const Nav = styled.nav``;\nexport const UL = styled.ul`\n    margin: 0;\n    padding: 0;\n`;\nexport const LI = styled.li`\n    margin: 0;\n    padding: 0;\n`;\nexport const P = styled.p`\n    margin: 0;\n    padding: 0;\n`;\n\nexport const A = styled.a`\n    &, &:hover, &:focus {\n        outline: none;\n        color: inherit;\n        text-decoration: none;\n    }\n`;","export const blue = 'rgba(128, 165, 177, 1)';\nexport const blueHighlight = 'rgba(151, 195, 210, 1)';","module.exports = __webpack_public_path__ + \"static/Bariol-Regular-b0d07df351f442860551405a4be58de7.eot\";","module.exports = __webpack_public_path__ + \"static/Bariol-Regular-4afd94f0fd93a1f63b46c6c6ad792f71.woff\";","module.exports = __webpack_public_path__ + \"static/Bariol-Regular-8a7d23d53f8d118e190c63e4e81a91fe.ttf\";","module.exports = __webpack_public_path__ + \"static/Bariol-Regular-75b90056f4cdf5a742897ec0a59569d7.svg\";","import React from 'react';\nimport { A, UL, LI } from '../components/default';\nimport { blue, blueHighlight } from '../components/colors';\nimport styled from \"styled-components\";\nimport { IoIosHome, IoIosAppstore } from \"react-icons/io\";\nimport { FaTwitter } from \"react-icons/fa\";\n\nconst StyledNav = styled.nav`\n    display: flex;\n    flex-direction: row;\n    flex-wrap: wrap;\n    padding: 20px 60px;\n    border-bottom: 1px solid #ddd;\n\n    @media all and (max-width: 600px) {\n        padding: 20px;\n    }\n\n    @media (prefers-color-scheme: dark) {\n        border-color: #777;\n    }\n`;\n\nconst Title = styled.div`\n    flex: 2;\n    font-family: \"Roboto\", \"Helvetica Neue\", \"Helvetica\", sans-serif;\n    font-size: 28px;\n    font-display: swap;\n\n    @media (prefers-color-scheme: dark) {\n        color: #fff;\n    }\n`;\n\nconst NavLinks = styled(UL)`\n    flex: 10;\n    display: flex;\n    flex-direction: horizontal;\n    flex-wrap: wrap;\n    justify-content: flex-end;\n    height: 100%;\n    align-self: center;\n`;\n\nconst NavLink = styled(LI)`\n    display: flex;\n    flex-direction: vertical;\n    align-items: center;\n    text-align: center;\n    font-family: \"Bariol\", \"Helvetica Neue\", \"Helvetica\", sans-serif;\n    font-size: 16px;\n    padding: 0px 20px;\n`;\n\nconst StyledA = styled(A)`\n    height: auto;\n    color: ${blue};\n    display: flex;\n    flex-direction: vertical;\n    align-items: center;\n\n    -webkit-transition: 0.2s ease-in-out;\n    -moz-transition: 0.2s ease-in-out;\n    -o-transition: 0.2s ease-in-out;\n    transition: 0.2s ease-in-out;\n\n    &:hover {\n        color: ${blueHighlight};\n    }\n`;\n\nconst Nav = (props) => {\n    return (\n        <StyledNav>\n            <Title><StyledA href={props.blog ? '/blog' : '/'}>NOAH GILMORE</StyledA></Title>\n            <NavLinks>\n                <NavLink><StyledA aria-label=\"Blog Home\" href=\"/blog\"><IoIosHome color={blue} size=\"24\" /></StyledA></NavLink>\n                <NavLink><StyledA aria-label=\"Twitter\" href=\"https://twitter.com/noahsark769\"><FaTwitter color={blue} size=\"24\" /></StyledA></NavLink>\n                <NavLink><StyledA aria-label=\"App Store\" href=\"https://appstore.com/trestle\"><IoIosAppstore color={blue} size=\"24\" /></StyledA></NavLink>\n            </NavLinks>\n        </StyledNav>\n    );\n};\n\nexport default Nav;","import React from 'react';\nimport styled, { css } from \"styled-components\";\nimport { Helmet } from \"react-helmet\";\n\nexport const BlogPostContainer = styled.div`\n    padding: 60px 0;\n    margin: 0 auto;\n    width: 90%;\n    @media all and (min-width: 600px) {\n        max-width: 700px;\n        margin: auto;\n    }\n\n    @media all and (max-width: 600px) {\n        width: 100%;\n        padding: 20px 0;\n        ${(props) => props.darkened && css`\n            background-color: #f6f6f6;\n            @media (prefers-color-scheme: dark) {\n                background-color: inherit;\n            }\n        `}\n    }\n`;\n\nconst TitleContainer = styled.div`\n    width: 100%;\n    margin-bottom: 40px;\n`;\n\nconst Heading = styled.h1`\n    width: 100%;\n    font-family: \"Roboto\", \"Helvetica Neue\", \"Helvetica\", sans-serif;\n    font-size: 34px;\n    margin-bottom: 10px;\n\n    @media (prefers-color-scheme: dark) {\n        color: #fff;\n    }\n`;\n\nconst DateContainer = styled.p`\n    font-family: \"Gentium Book Basic\", times, serif;\n    font-style: italic;\n    font-size: 16px;\n    color: #999;\n`;\n\nexport const BlogPostMeta = (props) => {\n    return (\n        <div>\n            <Helmet>\n                <title>{props.title}</title>\n            </Helmet>\n            <TitleContainer>\n                <Heading>{props.title}</Heading>\n                <DateContainer>{props.date}</DateContainer>\n            </TitleContainer>\n        </div>\n    );\n};\n\nexport default class BlogPost extends React.Component {\n    render() {\n        return (\n            <BlogPostContainer>\n                <div>\n                    {this.props.children}\n                </div>\n            </BlogPostContainer>\n        );\n    }\n};\n","import React from 'react';\nimport ReactDOM from \"react-dom\";\nimport styled from \"styled-components\";\n\nconst Container = styled.div`\n    p, li {\n        margin: 0;\n        padding: 0;\n        font-family: \"Gentium Book Basic\", times, serif;\n        font-size: 21px;\n        line-height: 29px;\n        color: #333;\n        padding-bottom: 15px;\n        margin-top: 15px;\n        @media all and (max-width: 600px) {\n            width: 90%;\n            margin: 15px auto 0 auto;\n        }\n\n        @media (prefers-color-scheme: dark) {\n            color: #fff;\n        }\n    }\n\n    blockquote {\n        background-color: #faf9f7;\n        border-left: 4px solid #e5e4e1;\n        padding: 20px;\n        font-style: italic;\n\n        @media (prefers-color-scheme: dark) {\n            background-color: #3f3f3f;\n        }\n\n        p {\n            margin: 0;\n            padding: 0;\n            color: #555;\n\n            @media (prefers-color-scheme: dark) {\n                color: #fff;\n            }\n        }\n    }\n\n    a {\n        color: #1A3F4B;\n        -webkit-transition: 0.2s ease-in-out;\n        -moz-transition: 0.2s ease-in-out;\n        -o-transition: 0.2s ease-in-out;\n        transition: 0.2s ease-in-out;\n\n        @media (prefers-color-scheme: dark) {\n            color: #60b5d1;\n        }\n    }\n    a:hover {\n        color: #47656E;\n\n        @media (prefers-color-scheme: dark) {\n            color: #6bcfef;\n        }\n    }\n    code {\n        font-family: monospace;\n        font-size: 16px;\n        background-color: #faf9f7;\n        border: 1px solid #e5e4e1;\n        padding: 3px 5px;\n        margin: 0px 2px;\n        color: #555;\n\n        @media (prefers-color-scheme: dark) {\n            color: #fff;\n            background-color: #3f3f3f;\n        }\n    }\n    code:not(pre code) {\n        font-family: monospace;\n        font-size: 16px;\n        background-color: #faf9f7;\n        border: 1px solid #e5e4e1;\n        padding: 3px 5px;\n        margin: 0px 2px;\n        color: #555;\n\n        @media (prefers-color-scheme: dark) {\n            color: #fff;\n            background-color: #3f3f3f;\n        }\n    }\n    code:first-child {\n        margin-left: 0;\n    }\n    pre {\n        display: block;\n        margin: 0;\n        padding: 0;\n        background: none;\n        @media all and (max-width: 600px) {\n            width: 100%;\n            margin: 0 auto;\n        }\n    }\n    pre > code {\n        display: block;\n        margin: 0;\n        padding: 0;\n        border: 1px solid #e5e4e1;\n        border-radius: 2px;\n        padding: 10px;\n        margin-top: 10px;\n        font-family: monospace;\n        font-size: 14px;\n        line-height: 17px;\n        white-space: pre-wrap;\n\n        @media all and (max-width: 600px) {\n            font-size: 15px;\n            white-space: pre;\n            border-left: none;\n            border-right: none;\n            padding: 15px 5% 15px 5%;\n            width: 100%;\n        }\n    }\n\n    pre > code.language-nohighlight {\n        @media (prefers-color-scheme: dark) {\n            color: #fff;\n            background-color: #3f3f3f;\n        }\n    }\n\n    pre + p {\n        margin-top: 30px;\n    }\n    ol {\n        margin-left: 30px;\n        @media all and (max-width: 600px) {\n            width: 90%;\n            margin: 0 auto 0 30px;\n        }\n\n        @media (prefers-color-scheme: dark) {\n            color: #fff;\n        }\n    }\n    ol li {\n        list-style-type: decimal;\n    }\n    ul li {\n        list-style-type: square;\n        margin-left: 40px;\n        @media all and (max-width: 600px) {\n            width: 90%;\n            margin: 0 auto;\n        }\n\n        @media (prefers-color-scheme: dark) {\n            color: #fff;\n        }\n    }\n    h1, h2, h3, h4, h5, h6 {\n        width: 100%;\n        font-family: \"Roboto\", \"Helvetica Neue\", \"Helvetica\", sans-serif;\n        margin-bottom: 10px;   \n        margin-top: 40px;\n        @media all and (max-width: 600px) {\n            width: 90%;\n            margin: 40px auto 10px auto;\n        }\n\n        @media (prefers-color-scheme: dark) {\n            color: #fff;\n        }\n    }\n    h1 {\n        font-size: 28px;\n    }\n    h2 {\n        font-size: 24px;\n    }\n    h3 {\n        font-size: 20px;\n    }\n\n    em {\n        font-style: italic;\n    }\n\n    strong {\n        font-weight: bold;\n    }\n`;\n\nexport default class MarkdownContent extends React.Component {\n    render() {\n        return (\n            <Container>\n                {this.props.children}\n            </Container>\n        );\n    }\n\n    componentDidMount() {\n        const node = ReactDOM.findDOMNode(this);\n        var elements = node.querySelectorAll(\"pre code\");\n        // this next line has to be stuck in the 90's\n        // https://css-tricks.com/snippets/javascript/loop-queryselectorall-matches/\n        for (var i = 0; i < elements.length; i++) {\n            // I would love to import the node version of hljs here, but it turns out\n            // this doesn't work due to something in gatsby-mdx's rendering. Oh well,\n            // we just import it in html.js and use the window version here.\n            window.hljs && window.hljs.highlightBlock(elements[i]);\n        }\n    }\n}","export function formatDateString(dateString) {\n    const date = new Date(dateString);\n    return date.toLocaleDateString(\"en-US\", {year: 'numeric', month: 'long', day: 'numeric'});\n}","import React from 'react';\nimport { A } from '../components/default';\nimport styled, { css } from \"styled-components\";\nimport { IoIosHome } from \"react-icons/io\";\nimport { FaTwitter } from \"react-icons/fa\";\nimport { blue, blueHighlight } from '../components/colors';\nimport { formatTweetIntentUrl } from '../lib/twitter';\n\nconst Container = styled.div`\n    width: 100%;\n    display: flex;\n    flex-direction: horizontal;\n    align-items: center;\n    justify-content: center;\n    margin-top: 40px;\n`;\n\nconst ButtonStyle = styled.div`\n    background-color: ${blue};\n    -webkit-transition: 0.2s ease-in-out;\n    -moz-transition: 0.2s ease-in-out;\n    -o-transition: 0.2s ease-in-out;\n    transition: 0.2s ease-in-out;\n\n    &:hover {\n        background-color: ${blueHighlight};\n    }\n\n    width: 100px;\n    padding: 10px 20px;\n    text-align: center;\n    display: flex;\n    flex-direction: vertical;\n    align-items: center;\n    justify-content: center;\n    border-radius: 4px;\n    ${(props) => props.margin && css`\n        margin-right: 20px;\n    `};\n`;\nconst Button = (props) => {\n    return (\n        <A href={props.url} target={props.newTab ? '_blank' : null} aria-label={props.label}><ButtonStyle margin={props.margin}>{props.children}</ButtonStyle></A>\n    );\n};\n\nexport default class EndButtons extends React.Component {\n    render() {\n        const twitterUrl = formatTweetIntentUrl(`Post by @noahsark769: ${this.props.tweetTitle} ${this.props.tweetUrl}`);\n        return (\n            <Container>\n                <Button label=\"Twitter\" url={twitterUrl} newTab margin><FaTwitter size={24} color='white'/></Button>\n                <Button label=\"Blog homepage\" url=\"/blog\"><IoIosHome size={24} color='white' /></Button>\n            </Container>\n        );\n    }\n};\n","export function formatTweetIntentUrl(text) {\n    const encodedText = encodeURIComponent(text);\n    return `https://twitter.com/intent/tweet?text=${encodedText}`;\n}","import React from 'react';\nimport styled from \"styled-components\";\n\nconst Wrapper = styled.div`\n    margin-top: 80px;\n`;\n\nexport default class Disqus extends React.Component {\n    render() {\n        return (\n            <Wrapper>\n                <div id=\"disqus_thread\"></div>\n            </Wrapper>\n        )\n    }\n\n    componentDidMount() {\n       /**\n        *  RECOMMENDED CONFIGURATION VARIABLES: EDIT AND UNCOMMENT THE SECTION BELOW TO INSERT DYNAMIC VALUES FROM YOUR PLATFORM OR CMS.\n        *  LEARN WHY DEFINING THESE VARIABLES IS IMPORTANT: https://disqus.com/admin/universalcode/#configuration-variables*/\n        /*\n        var disqus_config = function () {\n        this.page.url = PAGE_URL;  // Replace PAGE_URL with your page's canonical URL variable\n        this.page.identifier = PAGE_IDENTIFIER; // Replace PAGE_IDENTIFIER with your page's unique identifier variable\n        };\n        */\n        (function() { // DON'T EDIT BELOW THIS LINE\n        var d = document, s = d.createElement('script');\n        s.src = '//noahgilmore-com.disqus.com/embed.js';\n        s.setAttribute('data-timestamp', +new Date());\n        (d.head || d.body).appendChild(s);\n        })();     \n    }\n}","import React from 'react';\nimport { Helmet } from \"react-helmet\";\nimport { GlobalStyle } from './default';\nimport Nav from './Nav';\nimport EndButtons from './EndButtons';\nimport { BlogPostContainer, BlogPostMeta } from './BlogPost';\nimport MarkdownContent from './MarkdownContent';\nimport { formatDateString } from '../lib/dateFormat';\nimport Disqus from './Disqus';\nimport ReactGA from 'react-ga';\nimport styled from 'styled-components';\n\nconst Container = styled.div`\n  @media (prefers-color-scheme: dark) {\n    background-color: #2b2c2f;\n  }\n`;\n\nconst NonContent = styled.div`\n    @media all and (max-width: 600px) {\n        padding-right: 5%;\n        padding-left: 5%;\n    }\n`;\n\nexport default class BlogPageLayout extends React.Component {\n    render() {\n      let isDarkMode = (typeof window !== 'undefined' && window.matchMedia(\"(prefers-color-scheme: dark)\").matches);\n        return (\n            <Container>\n              <GlobalStyle />\n              <Helmet>\n                  <link href='https://fonts.googleapis.com/css?family=Roboto:700' rel='stylesheet' type='text/css' />\n                  <link href=\"https://fonts.googleapis.com/css?family=Gentium+Book+Basic\" rel=\"stylesheet\" />\n                  {!isDarkMode && <link rel=\"stylesheet\" href=\"//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.13.0/styles/atom-one-light.min.css\" />}\n                  {isDarkMode && <link rel=\"stylesheet\" href=\"//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.13.0/styles/zenburn.min.css\" />}\n                  <meta name=\"twitter:card\" content=\"summary\" />\n                  <meta name=\"twitter:creator\" content=\"@noahsark769\" />\n                  <meta property=\"og:url\" content={`https://noahgilmore.com${this.props.location.pathname}`} />\n                  <meta property=\"og:title\" content={this.props.pageContext.frontmatter.title} />\n                  <meta property=\"og:description\" content={this.props.pageContext.frontmatter.staticPreview} />\n                  <meta name=\"description\" content={this.props.pageContext.frontmatter.staticPreview} />\n              </Helmet>\n              <Nav blog />\n              <BlogPostContainer>\n                <NonContent>\n                  <BlogPostMeta\n                      title={this.props.pageContext.frontmatter.title}\n                      date={formatDateString(this.props.pageContext.frontmatter.date)} />\n                </NonContent>\n                <MarkdownContent>\n                  {this.props.children}\n                </MarkdownContent>\n                <NonContent>\n                  <EndButtons tweetTitle={this.props.pageContext.frontmatter.title} tweetUrl={`https://noahgilmore.com${this.props.location.pathname}`} />\n                  <Disqus />\n                </NonContent>\n              </BlogPostContainer>\n            </Container>\n        )\n    }\n\n    componentDidMount() {\n        ReactGA.initialize('UA-35325391-1');\n        ReactGA.pageview(window.location.pathname + window.location.search);\n    }\n}\n"],"sourceRoot":""}