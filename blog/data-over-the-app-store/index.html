<!DOCTYPE html><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"/><meta http-equiv="x-ua-compatible" content="ie=edge"/><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/><link rel="stylesheet" href="https://meyerweb.com/eric/tools/css/reset/reset.css"/><style data-href="/styles.a4a03032f8a85ba46eb0.css">/*! normalize.css v8.0.1 | MIT License | github.com/necolas/normalize.css */html{line-height:1.15;-webkit-text-size-adjust:100%}body{margin:0}main{display:block}h1{font-size:2em;margin:.67em 0}hr{box-sizing:content-box;height:0;overflow:visible}pre{font-family:monospace,monospace;font-size:1em}a{background-color:transparent}abbr[title]{border-bottom:none;text-decoration:underline;text-decoration:underline dotted}b,strong{font-weight:bolder}code,kbd,samp{font-family:monospace,monospace;font-size:1em}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}img{border-style:none}button,input,optgroup,select,textarea{font-family:inherit;font-size:100%;line-height:1.15;margin:0}button,input{overflow:visible}button,select{text-transform:none}[type=button],[type=reset],[type=submit],button{-webkit-appearance:button}[type=button]::-moz-focus-inner,[type=reset]::-moz-focus-inner,[type=submit]::-moz-focus-inner,button::-moz-focus-inner{border-style:none;padding:0}[type=button]:-moz-focusring,[type=reset]:-moz-focusring,[type=submit]:-moz-focusring,button:-moz-focusring{outline:1px dotted ButtonText}fieldset{padding:.35em .75em .625em}legend{box-sizing:border-box;color:inherit;display:table;max-width:100%;padding:0;white-space:normal}progress{vertical-align:baseline}textarea{overflow:auto}[type=checkbox],[type=radio]{box-sizing:border-box;padding:0}[type=number]::-webkit-inner-spin-button,[type=number]::-webkit-outer-spin-button{height:auto}[type=search]{-webkit-appearance:textfield;outline-offset:-2px}[type=search]::-webkit-search-decoration{-webkit-appearance:none}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}details{display:block}summary{display:list-item}[hidden],template{display:none}blockquote,dd,dl,figure,h1,h2,h3,h4,h5,h6,hr,p,pre{margin:0}button{background-color:transparent;background-image:none}button:focus{outline:1px dotted;outline:5px auto -webkit-focus-ring-color}fieldset,ol,ul{margin:0;padding:0}ol,ul{list-style:none}html{font-family:system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;line-height:1.5}*,:after,:before{box-sizing:border-box;border:0 solid #e2e8f0}hr{border-top-width:1px}img{border-style:solid}textarea{resize:vertical}input::placeholder,textarea::placeholder{color:#a0aec0}[role=button],button{cursor:pointer}table{border-collapse:collapse}h1,h2,h3,h4,h5,h6{font-size:inherit;font-weight:inherit}a{color:inherit;text-decoration:inherit}button,input,optgroup,select,textarea{padding:0;line-height:inherit;color:inherit}code,kbd,pre,samp{font-family:Menlo,Monaco,Consolas,Liberation Mono,Courier New,monospace}audio,canvas,embed,iframe,img,object,svg,video{display:block;vertical-align:middle}img,video{max-width:100%;height:auto}.container{width:100%}@media (min-width:640px){.container{max-width:640px}}@media (min-width:768px){.container{max-width:768px}}@media (min-width:1024px){.container{max-width:1024px}}@media (min-width:1280px){.container{max-width:1280px}}.border-white{--border-opacity:1;border-color:#fff;border-color:rgba(255,255,255,var(--border-opacity))}.rounded-full{border-radius:9999px}.border-solid{border-style:solid}.border{border-width:1px}.border-t{border-top-width:1px}.block{display:block}.inline{display:inline}.flex{display:flex}.table{display:table}.hidden{display:none}.flex-row{flex-direction:row}.flex-col{flex-direction:column}.flex-wrap{flex-wrap:wrap}.items-center{align-items:center}.justify-center{justify-content:center}.font-bold{font-weight:700}.h-screen{height:100vh}.text-3xl{font-size:1.875rem}.leading-6{line-height:1.5rem}.leading-8{line-height:2rem}.mb-4{margin-bottom:1rem}.mr-8{margin-right:2rem}.mb-12{margin-bottom:3rem}.mt-32{margin-top:8rem}.max-w-none{max-width:none}.max-w-4xl{max-width:56rem}.overflow-hidden{overflow:hidden}.p-0{padding:0}.p-8{padding:2rem}.pb-6{padding-bottom:1.5rem}.pr-8{padding-right:2rem}.pt-16{padding-top:4rem}.uppercase{text-transform:uppercase}.underline{text-decoration:underline}.w-32{width:8rem}.transition{transition-property:background-color,border-color,color,fill,stroke,opacity,box-shadow,transform}@keyframes spin{to{transform:rotate(1turn)}}@keyframes ping{75%,to{transform:scale(2);opacity:0}}@keyframes pulse{50%{opacity:.5}}@keyframes bounce{0%,to{transform:translateY(-25%);animation-timing-function:cubic-bezier(.8,0,1,1)}50%{transform:none;animation-timing-function:cubic-bezier(0,0,.2,1)}}@media (min-width:640px){.sm\:container{width:100%;max-width:640px}@media (min-width:768px){.sm\:container{max-width:768px}}@media (min-width:1024px){.sm\:container{max-width:1024px}}@media (min-width:1280px){.sm\:container{max-width:1280px}}}@media (min-width:768px){.md\:container{width:100%}@media (min-width:640px){.md\:container{max-width:640px}}@media (min-width:768px){.md\:container{max-width:768px}}@media (min-width:1024px){.md\:container{max-width:1024px}}@media (min-width:1280px){.md\:container{max-width:1280px}}.md\:block{display:block}.md\:flex{display:flex}.md\:hidden{display:none}.md\:mb-0{margin-bottom:0}.md\:p-8{padding:2rem}.md\:p-32{padding:8rem}.md\:pt-8{padding-top:2rem}.md\:pb-8{padding-bottom:2rem}.md\:w-48{width:12rem}}@media (min-width:1024px){.lg\:container{width:100%}@media (min-width:640px){.lg\:container{max-width:640px}}@media (min-width:768px){.lg\:container{max-width:768px}}@media (min-width:1024px){.lg\:container{max-width:1024px}}@media (min-width:1280px){.lg\:container{max-width:1280px}}}@media (min-width:1280px){.xl\:container{width:100%}@media (min-width:640px){.xl\:container{max-width:640px}}@media (min-width:768px){.xl\:container{max-width:768px}}@media (min-width:1024px){.xl\:container{max-width:1024px}}@media (min-width:1280px){.xl\:container{max-width:1280px}}}@media (prefers-color-scheme:dark){.dark-mode\:container{width:100%}@media (min-width:640px){.dark-mode\:container{max-width:640px}}@media (min-width:768px){.dark-mode\:container{max-width:768px}}@media (min-width:1024px){.dark-mode\:container{max-width:1024px}}@media (min-width:1280px){.dark-mode\:container{max-width:1280px}}.dark-mode\:text-white{--text-opacity:1;color:#fff;color:rgba(255,255,255,var(--text-opacity))}}</style><meta name="generator" content="Gatsby 2.18.10"/><title data-react-helmet="true">Passing data through the App Store with UIPasteboard</title><link data-react-helmet="true" href="https://fonts.googleapis.com/css?family=Roboto:700" rel="stylesheet" type="text/css"/><link data-react-helmet="true" href="https://fonts.googleapis.com/css2?family=Merriweather:ital,wght@0,400;1,300&amp;display=swap" rel="stylesheet"/><link data-react-helmet="true" rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.13.0/styles/atom-one-light.min.css"/><meta data-react-helmet="true" name="twitter:card" content="summary"/><meta data-react-helmet="true" name="twitter:creator" content="@noahsark769"/><meta data-react-helmet="true" name="twitter:site" content="@noahsark769"/><meta data-react-helmet="true" property="og:url" content="https://noahgilmore.com/blog/data-over-the-app-store/"/><meta data-react-helmet="true" property="og:title" content="Passing data through the App Store with UIPasteboard"/><meta data-react-helmet="true" property="og:description" content="About a year ago I wrote a puzzle game called Trestle. If you download it using this link or any of the links in this post (by clicking on them on your iOS device), you&#x27;ll get a nice Easter egg and two of the (normally paid) level sets enabled for free..."/><meta data-react-helmet="true" name="twitter:description" content="About a year ago I wrote a puzzle game called Trestle. If you download it using this link or any of the links in this post (by clicking on them on your iOS device), you&#x27;ll get a nice Easter egg and two of the (normally paid) level sets enabled for free..."/><meta data-react-helmet="true" name="description" content="About a year ago I wrote a puzzle game called Trestle. If you download it using this link or any of the links in this post (by clicking on them on your iOS device), you&#x27;ll get a nice Easter egg and two of the (normally paid) level sets enabled for free..."/><style data-styled="kZJxiO  inkKqg ihgmJg glYDzJ jjWRSm bkeDie hAFKjM jtmfVw gablWf bDzSYv iQPMaQ cMmljL ilthni fiaZzq hrBqpY kiiVKx bmzpLX fecpOA jmGPXo gkfXpi dXIkuv" data-styled-version="4.4.1">
/* sc-component-id: CaptionedImage__Wrap-owr0zk-0 */
.hrBqpY{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;margin:20px 0;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;}
/* sc-component-id: CaptionedImage__Container-owr0zk-1 */
.kiiVKx{-webkit-flex:1;-ms-flex:1;flex:1;}
/* sc-component-id: CaptionedImage__Caption-owr0zk-2 */
.bmzpLX{font-family:"Gentium Book Basic",times,serif;font-style:italic;font-size:16px;color:#999;margin-bottom:30px;margin-top:12px;text-align:center;line-height:1.2em;} .bmzpLX img{width:100%;margin-bottom:10px;}
/* sc-component-id: sc-global-3677396698 */
@font-face{font-family:'Bariol';src:url('/static/Bariol-Regular-b0d07df351f442860551405a4be58de7.eot');src:url('/static/Bariol-Regular-b0d07df351f442860551405a4be58de7.eot?#iefix') format('embedded-opentype'), url('/static/Bariol-Regular-4afd94f0fd93a1f63b46c6c6ad792f71.woff') format('woff'), url('/static/Bariol-Regular-8a7d23d53f8d118e190c63e4e81a91fe.ttf') format('truetype'), url('/static/Bariol-Regular-75b90056f4cdf5a742897ec0a59569d7.svg#svgBariolRegular') format('svg');} *{box-sizing:border-box !important;} body{margin:0;padding:0;} @media (prefers-color-scheme:dark){html,body{background-color:#23282f;}}
/* sc-component-id: default__HighlightedA-phsh4y-6 */
.gkfXpi,.gkfXpi:hover,.gkfXpi:focus{color:#1A3F4B;-webkit-transition:0.2s ease-in-out;-moz-transition:0.2s ease-in-out;-o-transition:0.2s ease-in-out;-webkit-transition:0.2s ease-in-out;transition:0.2s ease-in-out;outline:none;-webkit-text-decoration:underline;text-decoration:underline;} @media (prefers-color-scheme:dark){.gkfXpi,.gkfXpi:hover,.gkfXpi:focus{color:#60b5d1;}}
/* sc-component-id: Nav__StyledNav-sc-17txzo8-0 */
.inkKqg{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;padding:20px 60px;} @media all and (max-width:600px){.inkKqg{padding:20px;}} @media (prefers-color-scheme:dark){.inkKqg{border-color:#777;}}
/* sc-component-id: Nav__Title-sc-17txzo8-1 */
.ihgmJg{-webkit-flex:2;-ms-flex:2;flex:2;font-family:"Roboto","Helvetica Neue","Helvetica",sans-serif;font-size:28px;font-display:swap;} @media (prefers-color-scheme:dark){.ihgmJg{color:#fff;}}
/* sc-component-id: Nav__NavLinks-sc-17txzo8-2 */
.jjWRSm{margin:0;padding:0;-webkit-flex:10;-ms-flex:10;flex:10;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:horizontal;-ms-flex-direction:horizontal;flex-direction:horizontal;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;-webkit-box-pack:end;-webkit-justify-content:flex-end;-ms-flex-pack:end;justify-content:flex-end;height:100%;-webkit-align-self:center;-ms-flex-item-align:center;align-self:center;}
/* sc-component-id: Nav__NavLink-sc-17txzo8-3 */
.bkeDie{margin:0;padding:0;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:vertical;-ms-flex-direction:vertical;flex-direction:vertical;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;text-align:center;font-family:"Roboto","Helvetica Neue","Helvetica",sans-serif;font-size:16px;padding:0px 8px;} @media all and (min-width:370px){.bkeDie{padding:0px 20px;}}
/* sc-component-id: Nav__StyledA-sc-17txzo8-4 */
.glYDzJ{height:auto;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:vertical;-ms-flex-direction:vertical;flex-direction:vertical;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-transition:0.2s ease-in-out;-moz-transition:0.2s ease-in-out;-o-transition:0.2s ease-in-out;-webkit-transition:0.2s ease-in-out;transition:0.2s ease-in-out;} .glYDzJ,.glYDzJ:hover,.glYDzJ:focus{outline:none;color:inherit;-webkit-text-decoration:none;text-decoration:none;}
/* sc-component-id: BlogPost__BlogPostContainer-tv75ut-0 */
.hAFKjM{padding:60px 0;margin:0 auto;width:90%;} @media all and (min-width:600px){.hAFKjM{max-width:700px;margin:auto;}} @media all and (max-width:600px){.hAFKjM{width:100%;padding:20px 0;}}
/* sc-component-id: BlogPost__TitleContainer-tv75ut-1 */
.iQPMaQ{width:100%;margin-bottom:40px;}
/* sc-component-id: BlogPost__Heading-tv75ut-2 */
.cMmljL{width:100%;font-family:"Roboto","Helvetica Neue","Helvetica",sans-serif;font-size:34px;margin-bottom:10px;line-height:1.2em;} @media (prefers-color-scheme:dark){.cMmljL{color:#fff;}}
/* sc-component-id: BlogPost__DateContainer-tv75ut-4 */
.ilthni{font-family:"Merriweather",times,serif;font-style:italic;font-size:13px;color:#999;}
/* sc-component-id: MarkdownContent__Container-gk8834-0 */
.fiaZzq p,.fiaZzq li{margin:0;padding:0;font-family:"Merriweather",times,serif;font-size:18px;line-height:29px;color:#333;padding-bottom:15px;margin-top:15px;} @media all and (max-width:600px){.fiaZzq p,.fiaZzq li{width:90%;margin:15px auto 0 auto;}} @media (prefers-color-scheme:dark){.fiaZzq p,.fiaZzq li{color:#fff;}} .fiaZzq blockquote{background-color:#faf9f7;border-left:4px solid #e5e4e1;padding:20px;font-style:italic;font-synthesis:weight;font-weight:300;} @media (prefers-color-scheme:dark){.fiaZzq blockquote{background-color:#2b2c2f;}} .fiaZzq blockquote p{margin:0;padding:0;color:#555;} @media (prefers-color-scheme:dark){.fiaZzq blockquote p{color:#fff;}} .fiaZzq a{color:#1A3F4B;-webkit-transition:0.2s ease-in-out;-moz-transition:0.2s ease-in-out;-o-transition:0.2s ease-in-out;-webkit-transition:0.2s ease-in-out;transition:0.2s ease-in-out;-webkit-text-decoration:underline;text-decoration:underline;} @media (prefers-color-scheme:dark){.fiaZzq a{color:#60b5d1;}} .fiaZzq a:hover{color:#47656E;} @media (prefers-color-scheme:dark){.fiaZzq a:hover{color:#6bcfef;}} .fiaZzq code{font-family:monospace;font-size:16px;padding:3px 5px;margin:0px 2px;} @media (prefers-color-scheme:dark){.fiaZzq code{color:#fff;}} .fiaZzq code:not(.vscode-highlight-code){font-family:monospace;font-size:16px;background-color:#faf9f7;border:1px solid #e5e4e1;padding:3px 5px;margin:0px 2px;color:#555;} @media (prefers-color-scheme:dark){.fiaZzq code:not(.vscode-highlight-code){color:#fff;background-color:#3f3f3f;}} .fiaZzq code:first-child{margin-left:0;} .fiaZzq pre{display:block;margin:0;padding:0;margin-top:10px;border:1px solid #e5e4e1;border-radius:2px;} @media all and (max-width:600px){.fiaZzq pre{width:100%;margin:10px auto 0 auto;border-left:none;border-right:none;border-radius:0;overflow-x:scroll;}} .fiaZzq pre > code{display:block;margin:0;padding:10px;font-family:monospace;font-size:14px;line-height:17px;white-space:pre-wrap;} @media all and (max-width:600px){.fiaZzq pre > code{font-size:15px;white-space:pre;padding:15px 5% 15px 5%;width:100%;}} .fiaZzq pre + p{margin-top:30px;} .fiaZzq ol{margin-left:30px;} @media all and (max-width:600px){.fiaZzq ol{width:90%;margin:0 auto 0 30px;}} @media (prefers-color-scheme:dark){.fiaZzq ol{color:#fff;}} .fiaZzq ol li{list-style-type:decimal;} .fiaZzq ul li{list-style-type:square;margin-left:40px;} @media all and (max-width:600px){.fiaZzq ul li{width:90%;margin:0 auto;}} @media (prefers-color-scheme:dark){.fiaZzq ul li{color:#fff;}} .fiaZzq h1,.fiaZzq h2,.fiaZzq h3,.fiaZzq h4,.fiaZzq h5,.fiaZzq h6{width:100%;font-family:"Roboto","Helvetica Neue","Helvetica",sans-serif;margin-bottom:10px;margin-top:40px;} @media all and (max-width:600px){.fiaZzq h1,.fiaZzq h2,.fiaZzq h3,.fiaZzq h4,.fiaZzq h5,.fiaZzq h6{width:90%;margin:40px auto 10px auto;}} @media (prefers-color-scheme:dark){.fiaZzq h1,.fiaZzq h2,.fiaZzq h3,.fiaZzq h4,.fiaZzq h5,.fiaZzq h6{color:#fff;}} .fiaZzq h1{font-size:28px;} .fiaZzq h2{font-size:24px;} .fiaZzq h3{font-size:20px;} .fiaZzq em{font-style:italic;} .fiaZzq strong{font-weight:bold;}
/* sc-component-id: EndButtons__Container-sc-1rt8k5q-0 */
.jmGPXo{width:100%;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:horizontal;-ms-flex-direction:horizontal;flex-direction:horizontal;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;margin-top:40px;font-family:"Merriweather",serif;} @media (prefers-color-scheme:dark){.jmGPXo{color:#fff;}}
/* sc-component-id: Disqus__Wrapper-sc-15q2k8t-0 */
.dXIkuv{margin-top:40px;}
/* sc-component-id: BlogPageLayout__Container-sc-1pnb15k-0 */
@media (prefers-color-scheme:dark){.kZJxiO{background-color:#23282f;}}
/* sc-component-id: BlogPageLayout__NonContent-sc-1pnb15k-1 */
@media all and (max-width:600px){.bDzSYv{padding-right:5%;padding-left:5%;}}
/* sc-component-id: BlogPageLayout__PostContainerOuter-sc-1pnb15k-4 */
.jtmfVw{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;padding:0;} @media all and (max-width:1200px){.jtmfVw{padding:0;}}
/* sc-component-id: BlogPageLayout__PostContainerInner-sc-1pnb15k-5 */
.gablWf{display:block;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;width:100%;}
/* sc-component-id: BlogPageLayout__MyTag-sc-1pnb15k-8 */
.fecpOA{position:relative;} @media all and (min-width:600px){.fecpOA{margin-left:-50px;padding-left:50px;}}</style><link rel="sitemap" type="application/xml" href="/sitemap.xml"/><link rel="alternate" type="application/rss+xml" title="Noah Gilmore&#x27;s Development Blog: Apple Platform Development" href="/blog/apple.xml"/><link rel="alternate" type="application/rss+xml" title="Noah Gilmore&#x27;s Development Blog: iOS" href="/blog/ios.xml"/><link rel="alternate" type="application/rss+xml" title="Noah Gilmore&#x27;s Development Blog: Web" href="/blog/web.xml"/><link rel="alternate" type="application/rss+xml" title="Noah Gilmore&#x27;s Development Blog" href="/blog/rss.xml"/><link as="script" rel="preload" href="/webpack-runtime-ca5d89e5047a55ed27c3.js"/><link as="script" rel="preload" href="/styles-c1c07cf25e5f354e4d8e.js"/><link as="script" rel="preload" href="/app-e3e77e799401b31c8f55.js"/><link as="script" rel="preload" href="/commons-3e6dfaab6d1d44869a85.js"/><link as="script" rel="preload" href="/component---src-pages-blog-data-over-the-app-store-mdx-c0ca5251de352655e4d1.js"/><link as="fetch" rel="preload" href="/page-data/blog/data-over-the-app-store/page-data.json" crossorigin="anonymous"/></head><body><div id="___gatsby"><div style="outline:none" tabindex="-1" role="group" id="gatsby-focus-wrapper"><div class="BlogPageLayout__Container-sc-1pnb15k-0 kZJxiO"><nav class="Nav__StyledNav-sc-17txzo8-0 inkKqg"><div class="Nav__Title-sc-17txzo8-1 ihgmJg"><a href="/blog" class="default__A-phsh4y-5 Nav__StyledA-sc-17txzo8-4 glYDzJ">NOAH GILMORE</a></div><ul class="default__UL-phsh4y-2 Nav__NavLinks-sc-17txzo8-2 jjWRSm"><li title="Site Home" class="default__LI-phsh4y-3 Nav__NavLink-sc-17txzo8-3 bkeDie"><a aria-label="Home" href="/" class="default__A-phsh4y-5 Nav__StyledA-sc-17txzo8-4 glYDzJ"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 512 512" color="rgba(128, 165, 177, 1)" size="24" style="color:rgba(128, 165, 177, 1)" height="24" width="24" xmlns="http://www.w3.org/2000/svg"><path d="M258.5 104.1c-1.5-1.2-3.5-1.2-5 0l-156 124.8c-.9.8-1.5 1.9-1.5 3.1v230c0 1.1.9 2 2 2h108c1.1 0 2-.9 2-2V322c0-1.1.9-2 2-2h92c1.1 0 2 .9 2 2v140c0 1.1.9 2 2 2h108c1.1 0 2-.9 2-2V232c0-1.2-.6-2.4-1.5-3.1l-156-124.8z"></path><path d="M458.7 204.2l-189-151.4C265.9 49.7 261 48 256 48s-9.9 1.7-13.7 4.8L160 119.7V77.5c0-1.1-.9-2-2-2H98c-1.1 0-2 .9-2 2v92.2l-42.7 35.1c-3.1 2.5-5.1 6.2-5.3 10.2-.2 4 1.3 7.9 4.1 10.7 2.6 2.6 6.1 4.1 9.9 4.1 3.2 0 6.3-1.1 8.8-3.1l183.9-148c.5-.4.9-.4 1.3-.4s.8.1 1.3.4l183.9 147.4c2.5 2 5.6 3.1 8.8 3.1 3.7 0 7.2-1.4 9.9-4.1 2.9-2.8 4.4-6.7 4.2-10.7-.3-4-2.2-7.7-5.4-10.2z"></path></svg></a></li><li title="Twitter" class="default__LI-phsh4y-3 Nav__NavLink-sc-17txzo8-3 bkeDie"><a aria-label="Twitter" href="https://twitter.com/noahsark769" class="default__A-phsh4y-5 Nav__StyledA-sc-17txzo8-4 glYDzJ"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 512 512" color="rgba(128, 165, 177, 1)" size="24" style="color:rgba(128, 165, 177, 1)" height="24" width="24" xmlns="http://www.w3.org/2000/svg"><path d="M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z"></path></svg></a></li><li title="GitHub" class="default__LI-phsh4y-3 Nav__NavLink-sc-17txzo8-3 bkeDie hidden md:flex"><a aria-label="GitHub" href="https://github.com/noahsark769" class="default__A-phsh4y-5 Nav__StyledA-sc-17txzo8-4 glYDzJ"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 512 512" color="rgba(128, 165, 177, 1)" size="24" style="color:rgba(128, 165, 177, 1)" height="24" width="24" xmlns="http://www.w3.org/2000/svg"><path d="M256 32C132.3 32 32 134.9 32 261.7c0 101.5 64.2 187.5 153.2 217.9 1.4.3 2.6.4 3.8.4 8.3 0 11.5-6.1 11.5-11.4 0-5.5-.2-19.9-.3-39.1-8.4 1.9-15.9 2.7-22.6 2.7-43.1 0-52.9-33.5-52.9-33.5-10.2-26.5-24.9-33.6-24.9-33.6-19.5-13.7-.1-14.1 1.4-14.1h.1c22.5 2 34.3 23.8 34.3 23.8 11.2 19.6 26.2 25.1 39.6 25.1 10.5 0 20-3.4 25.6-6 2-14.8 7.8-24.9 14.2-30.7-49.7-5.8-102-25.5-102-113.5 0-25.1 8.7-45.6 23-61.6-2.3-5.8-10-29.2 2.2-60.8 0 0 1.6-.5 5-.5 8.1 0 26.4 3.1 56.6 24.1 17.9-5.1 37-7.6 56.1-7.7 19 .1 38.2 2.6 56.1 7.7 30.2-21 48.5-24.1 56.6-24.1 3.4 0 5 .5 5 .5 12.2 31.6 4.5 55 2.2 60.8 14.3 16.1 23 36.6 23 61.6 0 88.2-52.4 107.6-102.3 113.3 8 7.1 15.2 21.1 15.2 42.5 0 30.7-.3 55.5-.3 63 0 5.4 3.1 11.5 11.4 11.5 1.2 0 2.6-.1 4-.4C415.9 449.2 480 363.1 480 261.7 480 134.9 379.7 32 256 32z"></path></svg></a></li><li title="App Store" class="default__LI-phsh4y-3 Nav__NavLink-sc-17txzo8-3 bkeDie"><a aria-label="App Store" href="https://apps.apple.com/us/app/cifilter-io/id1457458557" class="default__A-phsh4y-5 Nav__StyledA-sc-17txzo8-4 glYDzJ"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 512 512" color="rgba(128, 165, 177, 1)" size="24" style="color:rgba(128, 165, 177, 1)" height="24" width="24" xmlns="http://www.w3.org/2000/svg"><path d="M256 48C141.1 48 48 141.1 48 256s93.1 208 208 208 208-93.1 208-208S370.9 48 256 48zm-78.9 296.9c-2.7 4.6-7.5 7.1-12.5 7.1-2.5 0-5-.6-7.3-2-6.9-4-9.2-12.8-5.2-19.7l14.2-23.6c1.5-2.5 4.1-4 7-4h2.1c10.3 0 17.5 6.2 19.6 12.2l-17.9 30zm120.2-46.4l-93 .1h-61.8c-8.2 0-14.8-6.8-14.4-15 .3-7.8 7.1-13.7 14.9-13.7h44.8l53.1-90.4-17.2-29.3c-3.9-6.7-2.2-15.5 4.4-19.7 7-4.5 16.2-2.2 20.3 4.8l9.2 15.7h.1l9.2-15.7c4.1-7 13.4-9.3 20.3-4.8 6.6 4.2 8.3 13 4.4 19.7l-17.2 29.3-16.7 28.5-36.3 61.9v.1h53.5c6.7 0 15.1 3.6 18.5 9.4l.3.6c3 5.1 4.7 8.6 4.7 13.7-.1 2.8-1.1 4.8-1.1 4.8zm72.2.1h-25.2v.1l18.4 31.3c4 6.8 2.1 15.8-4.8 20-2.3 1.4-4.9 2.1-7.5 2.1-5 0-9.8-2.6-12.5-7.1l-27.2-46.3-16.9-28.8-21.8-37.3c-6.4-10.9-6.7-24.5-.6-35.3 4.3-7.6 7.6-9.6 7.6-9.6l48.5 82.1h41.7c7.8 0 14.5 6 14.9 13.7.3 8.3-6.3 15.1-14.6 15.1z"></path></svg></a></li></ul></nav><div class="BlogPost__BlogPostContainer-tv75ut-0 hAFKjM"><div class="BlogPageLayout__PostContainerOuter-sc-1pnb15k-4 jtmfVw"><div class="BlogPageLayout__PostContainerInner-sc-1pnb15k-5 gablWf"><div class="BlogPageLayout__NonContent-sc-1pnb15k-1 bDzSYv"><div><div class="BlogPost__TitleContainer-tv75ut-1 iQPMaQ"><h1 class="BlogPost__Heading-tv75ut-2 cMmljL">Passing data through the App Store with UIPasteboard</h1><p class="BlogPost__DateContainer-tv75ut-4 ilthni">April 15, 2019</p></div></div></div><div class="MarkdownContent__Container-gk8834-0 fiaZzq"><div class="CaptionedImage__Wrap-owr0zk-0 hrBqpY"><div class="CaptionedImage__Container-owr0zk-1 kiiVKx"><div class=" gatsby-image-wrapper" style="position:relative;overflow:hidden"><div style="width:100%;padding-bottom:43.86973180076628%"></div><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAJCAYAAAAywQxIAAAACXBIWXMAABYlAAAWJQFJUiTwAAAB00lEQVQoz22Sz0tUURTHH1ZQi6I/oClqkUSEe4M2rqpFEFEURFiWmRTloiL7gRBFi4GQGCFNMkKDwVKorEXNYoJ+TBhKDVlMMQvLLIdRy5z37j2f3n13ns+oC/dx7rmH7/2c7zsOIpg1oYTBWci72j/ZnC7fma9obePZ30h2CMnnylXRndFyTHnbd2HDCKx8q4h9gIZRmCp5kWgo9vQBUr8dOX0QObobOXsEmRi3d8rWO7fGYHEaFqQUzktY+nCaLVfus/+dVy5UlvBVGqndinzMRmRd15ATe6OzIdyUFiruapx+WB0fJrlxB+tbsyx/ApkfhkyjTHFzQ0AYLKUiK84cRu50wLcvQetOZa+vmvBYMeD7l+hiV91tnCQsu+nSl7dve66HnKpDciMRtevauKcdqV4VtB+0XJPULGnVtA9ptj3yE1dhYdwldl2T+WoElSU814g8vmcJQ0/NPnkA+ruRYsESdg5qam4o1sR9D5tKVDSXWHTe41Cf+tvD4QyybzPy5kVAJzO/kMRlSz7fQxO0PdNUXfJYe8FlXYvH8V5FcSYcnXlEz1NI4077l4/tQS42IVOTcw8HLYfqhZ/C60+az+Nh5t85nJvH3HtkbPS/c/gHRv91iafafwAAAAAASUVORK5CYII=" alt="Safari and Trestle icons" style="position:absolute;top:0;left:0;width:100%;height:100%;object-fit:cover;object-position:center;opacity:1;transition-delay:500ms"/><noscript><picture><source srcset="/static/6719504e4bf39ef27f6e1c4a24363e7d/59d48/safari-trestle.png 150w,
/static/6719504e4bf39ef27f6e1c4a24363e7d/c6a2b/safari-trestle.png 300w,
/static/6719504e4bf39ef27f6e1c4a24363e7d/78d2a/safari-trestle.png 600w,
/static/6719504e4bf39ef27f6e1c4a24363e7d/273c9/safari-trestle.png 900w,
/static/6719504e4bf39ef27f6e1c4a24363e7d/7a938/safari-trestle.png 1044w" sizes="(max-width: 600px) 100vw, 600px" /><img loading="lazy" sizes="(max-width: 600px) 100vw, 600px" srcset="/static/6719504e4bf39ef27f6e1c4a24363e7d/59d48/safari-trestle.png 150w,
/static/6719504e4bf39ef27f6e1c4a24363e7d/c6a2b/safari-trestle.png 300w,
/static/6719504e4bf39ef27f6e1c4a24363e7d/78d2a/safari-trestle.png 600w,
/static/6719504e4bf39ef27f6e1c4a24363e7d/273c9/safari-trestle.png 900w,
/static/6719504e4bf39ef27f6e1c4a24363e7d/7a938/safari-trestle.png 1044w" src="/static/6719504e4bf39ef27f6e1c4a24363e7d/78d2a/safari-trestle.png" alt="Safari and Trestle icons" style="position:absolute;top:0;left:0;opacity:1;width:100%;height:100%;object-fit:cover;object-position:center"/></picture></noscript></div><div class="CaptionedImage__Caption-owr0zk-2 bmzpLX">Safari and Trestle icons</div></div></div><p>About a year ago I wrote a puzzle game called <a class="data-link" href="https://itunes.apple.com/us/app/trestle-the-new-sudoku/id1300230302?mt=8">Trestle</a>. If you download it using <a class="data-link" href="https://itunes.apple.com/us/app/trestle-the-new-sudoku/id1300230302?mt=8">this link</a> or any of the links in this post (by clicking on them on your iOS device), you&#x27;ll get a nice Easter egg and two of the (normally paid) level sets enabled for free.</p><p>In this post, I&#x27;m going to describe the technique behind how I implemented this referral link without a backend or third party service, using <code>UIPasteboard</code>.</p><p><em>Disclaimer: I&#x27;m not recommending you use this in production to power your business-critical flows, since it&#x27;s a non-standard use of an API and a few things could change that would break it. It might be tenable in small use cases, but might also be grounds for App Store rejection. Use at your own risk.</em></p><h1 id="background" class="BlogPageLayout__MyTag-sc-1pnb15k-8 fecpOA">Background</h1><p>It&#x27;s common in iOS development, especially when you have a mobile web version of a product along with an app, to want to take some action on first app launch based on how the user was interacting with your product before.</p><p>As an example, imagine you&#x27;re Facebook and the user is viewing a profile in Safari, then decides to download the app via a button on the page - you&#x27;d ideally open that profile when the app launches. I like to call this &quot;passing data over the app store&quot;, and Apple doesn&#x27;t provide an official API for it.</p><p>There are tricky ways to hack around this restriction - one of the most common is called &quot;fingerprinting&quot;, where you use a variety of signals to try to link a user&#x27;s web session to their app session. With this technique, you collect data about the user&#x27;s browser (IP address, etc) beforehand, and make a call to your server on app launch to try to give your app data about what flow to present, if any.</p><p>The implementation of this approach is pretty involved and usually implemented by a third party company like <a href="https://branch.io/">Branch</a>, or with your own backend if you&#x27;re a big enough operation. I&#x27;m going to describe a simpler method which requires no backend (and doesn&#x27;t track any remote user data) using <a href="https://developer.apple.com/documentation/uikit/uipasteboard">UIPasteboard</a>.</p><h1 id="the-idea" class="BlogPageLayout__MyTag-sc-1pnb15k-8 fecpOA">The idea</h1><p>The general approach looks like this:</p><ol><li>Write a link on your website which, on click, both opens the url and copies it into the pasteboard with data encoded as a url parameter</li><li>On <code>didFinishLaunchingWithOptions</code>, read the pasteboard, decode the data, and use it to take action</li></ol><div class="CaptionedImage__Wrap-owr0zk-0 hrBqpY"><div class="CaptionedImage__Container-owr0zk-1 kiiVKx"><div class=" gatsby-image-wrapper" style="position:relative;overflow:hidden"><div style="width:100%;padding-bottom:27.816901408450704%"></div><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAGCAYAAADDl76dAAAACXBIWXMAABYlAAAWJQFJUiTwAAABGUlEQVQY001RDUvDMBTs//9TggyH4hQmqNjJNre2i10/0ixNmiY98x7r8JHjIHn37h5JXC8xGoWx7+B6hWmaGFTOOVhrMQwD8ziOfM/vES5qSEd6muMiJ3a3hNwsoLcPcMcVuqZCVVVo2xZlWSLLMuR5zqA7rTWayL1qYfZPrJPpAibOscdXJP3hBXL3jMvPCiZ/g7MGIboH73lAcSogfgWEOEGpeYOY3mr02Rr6qqc5pnhHQg0+rhKCj40B/0vkDbZpif33mfksJC3MhyqEwAbODawlJPRAzpRGSom6rpm7TuJjfcDy7guP9ynz5jOH9yP3Nk3DfcTD4G4hOCE5zfBx1dlZSRNTdahKhTKyvthbsrmPGNdPIs0fE6vLi8OBihgAAAAASUVORK5CYII=" alt="Diagram showing Safari connected with Trestle over the app store via UIPasteboard" style="position:absolute;top:0;left:0;width:100%;height:100%;object-fit:cover;object-position:center;opacity:1;transition-delay:500ms"/><noscript><picture><source srcset="/static/b7bc38b06e8a5f7f047a9d9426c3b851/59d48/pasteboard-diagram.png 150w,
/static/b7bc38b06e8a5f7f047a9d9426c3b851/c6a2b/pasteboard-diagram.png 300w,
/static/b7bc38b06e8a5f7f047a9d9426c3b851/78d2a/pasteboard-diagram.png 600w,
/static/b7bc38b06e8a5f7f047a9d9426c3b851/273c9/pasteboard-diagram.png 900w,
/static/b7bc38b06e8a5f7f047a9d9426c3b851/9911c/pasteboard-diagram.png 1200w,
/static/b7bc38b06e8a5f7f047a9d9426c3b851/71c86/pasteboard-diagram.png 1704w" sizes="(max-width: 600px) 100vw, 600px" /><img loading="lazy" sizes="(max-width: 600px) 100vw, 600px" srcset="/static/b7bc38b06e8a5f7f047a9d9426c3b851/59d48/pasteboard-diagram.png 150w,
/static/b7bc38b06e8a5f7f047a9d9426c3b851/c6a2b/pasteboard-diagram.png 300w,
/static/b7bc38b06e8a5f7f047a9d9426c3b851/78d2a/pasteboard-diagram.png 600w,
/static/b7bc38b06e8a5f7f047a9d9426c3b851/273c9/pasteboard-diagram.png 900w,
/static/b7bc38b06e8a5f7f047a9d9426c3b851/9911c/pasteboard-diagram.png 1200w,
/static/b7bc38b06e8a5f7f047a9d9426c3b851/71c86/pasteboard-diagram.png 1704w" src="/static/b7bc38b06e8a5f7f047a9d9426c3b851/78d2a/pasteboard-diagram.png" alt="Diagram showing Safari connected with Trestle over the app store via UIPasteboard" style="position:absolute;top:0;left:0;opacity:1;width:100%;height:100%;object-fit:cover;object-position:center"/></picture></noscript></div><div class="CaptionedImage__Caption-owr0zk-2 bmzpLX"></div></div></div><h2 id="step-1-copying-a-link-javascript" class="BlogPageLayout__MyTag-sc-1pnb15k-8 fecpOA">Step 1: Copying a link (Javascript)</h2><p>In Javascript (depending on your browser) it&#x27;s possible to programmatically copy to the clipboard using <code>document.execCommand(&quot;copy&quot;)</code> (see <a href="https://developer.mozilla.org/en-US/docs/Web/API/Document/execCommand">MDN docs</a>). The API is a little finicky - you have to construct a DOM element and fill it with the content you want to copy, and you can only use <code>input</code> and <code>textarea</code> elements, but it works! I tested this on iOS 11 and 12, but according to <a href="https://caniuse.com/#feat=clipboard">caniuse</a> it looks like it&#x27;s supported as far back as iOS 10. It even works on mobile Chrome (note though - it won&#x27;t work in the iOS simulator).</p><p>Here&#x27;s the code to copy a string to the pasteboard (thanks in part to <a href="https://stackoverflow.com/questions/34045777/copy-to-clipboard-using-javascript-in-ios">this stackoverflow post</a>):</p><pre class="dark-default-dark vscode-highlight" data-language="javascript"><code class="vscode-highlight-code"><span class="vscode-highlight-line"><span class="mtk4">function</span><span class="mtk1"> </span><span class="mtk11">iosCopyToClipboard</span><span class="mtk1">(</span><span class="mtk12">string</span><span class="mtk1">) {</span></span>
<span class="vscode-highlight-line"><span class="mtk1">    </span><span class="mtk4">let</span><span class="mtk1"> </span><span class="mtk12">el</span><span class="mtk1"> = </span><span class="mtk12">document</span><span class="mtk1">.</span><span class="mtk11">createElement</span><span class="mtk1">(</span><span class="mtk8">&quot;input&quot;</span><span class="mtk1">);</span></span>
<span class="vscode-highlight-line"><span class="mtk1">    </span><span class="mtk12">el</span><span class="mtk1">.</span><span class="mtk12">contentEditable</span><span class="mtk1"> = </span><span class="mtk4">true</span><span class="mtk1">;</span></span>
<span class="vscode-highlight-line"><span class="mtk1">    </span><span class="mtk12">el</span><span class="mtk1">.</span><span class="mtk12">readOnly</span><span class="mtk1"> = </span><span class="mtk4">false</span><span class="mtk1">;</span></span>
<span class="vscode-highlight-line"><span class="mtk1">    </span><span class="mtk12">el</span><span class="mtk1">.</span><span class="mtk12">value</span><span class="mtk1"> = </span><span class="mtk12">string</span><span class="mtk1">;</span></span>
<span class="vscode-highlight-line"><span class="mtk1">    </span><span class="mtk12">el</span><span class="mtk1">.</span><span class="mtk12">style</span><span class="mtk1"> = </span><span class="mtk8">&quot;position: absolute; top: 0; left: 0; width: 100%; font-size: 0; opacity: 0.0&quot;</span><span class="mtk1">;</span></span>
<span class="vscode-highlight-line"><span class="mtk1">    </span><span class="mtk12">document</span><span class="mtk1">.</span><span class="mtk12">body</span><span class="mtk1">.</span><span class="mtk11">appendChild</span><span class="mtk1">(</span><span class="mtk12">el</span><span class="mtk1">);</span></span>
<span class="vscode-highlight-line"><span class="mtk1"></span></span>
<span class="vscode-highlight-line"><span class="mtk1">    </span><span class="mtk4">let</span><span class="mtk1"> </span><span class="mtk12">range</span><span class="mtk1"> = </span><span class="mtk12">document</span><span class="mtk1">.</span><span class="mtk11">createRange</span><span class="mtk1">();</span></span>
<span class="vscode-highlight-line"><span class="mtk1">    </span><span class="mtk12">range</span><span class="mtk1">.</span><span class="mtk11">selectNodeContents</span><span class="mtk1">(</span><span class="mtk12">el</span><span class="mtk1">);</span></span>
<span class="vscode-highlight-line"><span class="mtk1">    </span><span class="mtk4">let</span><span class="mtk1"> </span><span class="mtk12">s</span><span class="mtk1"> = </span><span class="mtk12">window</span><span class="mtk1">.</span><span class="mtk11">getSelection</span><span class="mtk1">();</span></span>
<span class="vscode-highlight-line"><span class="mtk1">    </span><span class="mtk12">s</span><span class="mtk1">.</span><span class="mtk11">removeAllRanges</span><span class="mtk1">();</span></span>
<span class="vscode-highlight-line"><span class="mtk1">    </span><span class="mtk12">s</span><span class="mtk1">.</span><span class="mtk11">addRange</span><span class="mtk1">(</span><span class="mtk12">range</span><span class="mtk1">);</span></span>
<span class="vscode-highlight-line"><span class="mtk1"></span></span>
<span class="vscode-highlight-line"><span class="mtk1">    </span><span class="mtk3">// A big number, to cover anything that could be inside the element.</span></span>
<span class="vscode-highlight-line"><span class="mtk1">    </span><span class="mtk12">el</span><span class="mtk1">.</span><span class="mtk11">setSelectionRange</span><span class="mtk1">(</span><span class="mtk7">0</span><span class="mtk1">, </span><span class="mtk7">999999</span><span class="mtk1">);</span></span>
<span class="vscode-highlight-line"><span class="mtk1"></span></span>
<span class="vscode-highlight-line"><span class="mtk1">    </span><span class="mtk15">return</span><span class="mtk1"> </span><span class="mtk12">document</span><span class="mtk1">.</span><span class="mtk11">execCommand</span><span class="mtk1">(</span><span class="mtk8">&#x27;copy&#x27;</span><span class="mtk1">);</span></span>
<span class="vscode-highlight-line"><span class="mtk1">}</span></span></code></pre><p>(You might notice the odd CSS on this element - we have to make it the whole width of the page or else Safari might zoom to it before opening the link, and we have to make it opaque and font-size 0 in order to avoid showing an iOS selection UI.)</p><p>Once we&#x27;ve got this working, we can implement a function to take some data, base64 encode it, and copy it to the clipboard in addition to the link&#x27;s href. We&#x27;ll add a custom parameter to the copied url (I&#x27;ve called the parameter <code>ed</code> for &quot;encoded data&quot;). Note that we include a timestamp of when the link was clicked - we&#x27;ll need this for later. I&#x27;m using React here, but other frameworks or even <a href="http://vanilla-js.com/">vanilla JS</a> should be similar:</p><pre class="dark-default-dark vscode-highlight" data-language="jsx"><code class="vscode-highlight-code"><span class="vscode-highlight-line"><span class="mtk4">class</span><span class="mtk1"> </span><span class="mtk10">DataLink</span><span class="mtk1"> </span><span class="mtk4">extends</span><span class="mtk1"> </span><span class="mtk10">React</span><span class="mtk1">.</span><span class="mtk10">Component</span><span class="mtk1"> {</span></span>
<span class="vscode-highlight-line"><span class="mtk1">    </span><span class="mtk11">handleOnClick</span><span class="mtk1">() {</span></span>
<span class="vscode-highlight-line"><span class="mtk1">        </span><span class="mtk4">let</span><span class="mtk1"> </span><span class="mtk12">data</span><span class="mtk1"> = {</span></span>
<span class="vscode-highlight-line"><span class="mtk1">            </span><span class="mtk12">timestamp:</span><span class="mtk1"> </span><span class="mtk10">Date</span><span class="mtk1">.</span><span class="mtk11">now</span><span class="mtk1">(),</span></span>
<span class="vscode-highlight-line"><span class="mtk1">            ...</span><span class="mtk4">this</span><span class="mtk1">.</span><span class="mtk12">props</span><span class="mtk1">.</span><span class="mtk12">data</span></span>
<span class="vscode-highlight-line"><span class="mtk1">        }</span></span>
<span class="vscode-highlight-line"><span class="mtk1">        </span><span class="mtk4">let</span><span class="mtk1"> </span><span class="mtk12">json</span><span class="mtk1"> = </span><span class="mtk10">JSON</span><span class="mtk1">.</span><span class="mtk11">stringify</span><span class="mtk1">(</span><span class="mtk12">data</span><span class="mtk1">);</span></span>
<span class="vscode-highlight-line"><span class="mtk1">        </span><span class="mtk4">let</span><span class="mtk1"> </span><span class="mtk12">encoded</span><span class="mtk1"> = </span><span class="mtk11">btoa</span><span class="mtk1">(</span><span class="mtk12">json</span><span class="mtk1">)</span></span>
<span class="vscode-highlight-line"><span class="mtk1">        </span><span class="mtk4">let</span><span class="mtk1"> </span><span class="mtk12">toAppend</span><span class="mtk1">;</span></span>
<span class="vscode-highlight-line"><span class="mtk1">        </span><span class="mtk15">if</span><span class="mtk1"> (</span><span class="mtk4">this</span><span class="mtk1">.</span><span class="mtk12">props</span><span class="mtk1">.</span><span class="mtk12">href</span><span class="mtk1">.</span><span class="mtk11">includes</span><span class="mtk1">(</span><span class="mtk8">&quot;?&quot;</span><span class="mtk1">)) {</span></span>
<span class="vscode-highlight-line"><span class="mtk1">            </span><span class="mtk12">toAppend</span><span class="mtk1"> = </span><span class="mtk8">&quot;&amp;ed=&quot;</span><span class="mtk1"> + </span><span class="mtk12">encoded</span></span>
<span class="vscode-highlight-line"><span class="mtk1">        } </span><span class="mtk15">else</span><span class="mtk1"> {</span></span>
<span class="vscode-highlight-line"><span class="mtk1">            </span><span class="mtk12">toAppend</span><span class="mtk1"> = </span><span class="mtk8">&quot;?ed=&quot;</span><span class="mtk1"> + </span><span class="mtk12">encoded</span></span>
<span class="vscode-highlight-line"><span class="mtk1">        }</span></span>
<span class="vscode-highlight-line"><span class="mtk1">        </span><span class="mtk11">iosCopyToClipboard</span><span class="mtk1">(</span><span class="mtk4">this</span><span class="mtk1">.</span><span class="mtk12">props</span><span class="mtk1">.</span><span class="mtk12">href</span><span class="mtk1"> + </span><span class="mtk12">toAppend</span><span class="mtk1">);</span></span>
<span class="vscode-highlight-line"><span class="mtk1">    }</span></span>
<span class="vscode-highlight-line"><span class="mtk1"></span></span>
<span class="vscode-highlight-line"><span class="mtk1">    </span><span class="mtk11">render</span><span class="mtk1">() {</span></span>
<span class="vscode-highlight-line"><span class="mtk1">        </span><span class="mtk15">return</span><span class="mtk1"> (</span></span>
<span class="vscode-highlight-line"><span class="mtk1">            </span><span class="mtk17">&lt;</span><span class="mtk4">a</span><span class="mtk1"> </span><span class="mtk12">href</span><span class="mtk1">=</span><span class="mtk4">{this</span><span class="mtk1">.</span><span class="mtk12">props</span><span class="mtk1">.</span><span class="mtk12">href</span><span class="mtk4">}</span><span class="mtk1"> </span><span class="mtk12">onClick</span><span class="mtk1">=</span><span class="mtk4">{this</span><span class="mtk1">.</span><span class="mtk12">handleOnClick</span><span class="mtk1">.</span><span class="mtk11">bind</span><span class="mtk1">(</span><span class="mtk4">this</span><span class="mtk1">)</span><span class="mtk4">}</span><span class="mtk17">&gt;</span><span class="mtk4">{</span></span>
<span class="vscode-highlight-line"><span class="mtk1">                </span><span class="mtk4">this</span><span class="mtk1">.</span><span class="mtk12">props</span><span class="mtk1">.</span><span class="mtk12">children</span><span class="mtk4">}</span></span>
<span class="vscode-highlight-line"><span class="mtk1">            </span><span class="mtk17">&lt;/</span><span class="mtk4">a</span><span class="mtk17">&gt;</span></span>
<span class="vscode-highlight-line"><span class="mtk1">        );</span></span>
<span class="vscode-highlight-line"><span class="mtk1">    }</span></span>
<span class="vscode-highlight-line"><span class="mtk1">};</span></span></code></pre><p>Now, let&#x27;s construct a link with JSON data that we want to pass to our app:</p><pre class="dark-default-dark vscode-highlight" data-language="jsx"><code class="vscode-highlight-code"><span class="vscode-highlight-line"><span class="mtk4">const</span><span class="mtk1"> </span><span class="mtk11">TrestleBlogPostLink</span><span class="mtk1"> = (</span><span class="mtk12">props</span><span class="mtk1">) </span><span class="mtk4">=&gt;</span><span class="mtk1"> {</span></span>
<span class="vscode-highlight-line"><span class="mtk1">    </span><span class="mtk4">let</span><span class="mtk1"> </span><span class="mtk12">data</span><span class="mtk1"> = {</span><span class="mtk8">&quot;referrer&quot;</span><span class="mtk12">:</span><span class="mtk1"> </span><span class="mtk8">&quot;pasteboard-blog-post&quot;</span><span class="mtk1">};</span></span>
<span class="vscode-highlight-line"><span class="mtk1">    </span><span class="mtk15">return</span><span class="mtk1"> (</span></span>
<span class="vscode-highlight-line"><span class="mtk1">        </span><span class="mtk17">&lt;</span><span class="mtk10">DataLink</span></span>
<span class="vscode-highlight-line"><span class="mtk1">            </span><span class="mtk12">data</span><span class="mtk1">=</span><span class="mtk4">{</span><span class="mtk12">data</span><span class="mtk4">}</span></span>
<span class="vscode-highlight-line"><span class="mtk1">            </span><span class="mtk12">href</span><span class="mtk1">=</span><span class="mtk4">{</span><span class="mtk8">&quot;https://itunes.apple.com/us/app/trestle-the-new-sudoku/id1300230302?mt=8&quot;</span><span class="mtk4">}</span></span>
<span class="vscode-highlight-line"><span class="mtk1">        </span><span class="mtk17">&gt;</span></span>
<span class="vscode-highlight-line"><span class="mtk1">            </span><span class="mtk4">{</span><span class="mtk12">props</span><span class="mtk1">.</span><span class="mtk12">children</span><span class="mtk4">}</span></span>
<span class="vscode-highlight-line"><span class="mtk1">        </span><span class="mtk17">&lt;/</span><span class="mtk10">DataLink</span><span class="mtk17">&gt;</span><span class="mtk1">);</span></span>
<span class="vscode-highlight-line"><span class="mtk1">};</span></span></code></pre><p>When the user clicks on this link they&#x27;ll be redirected to the app store, with the modified link in their pasteboard.</p><h2 id="step-2-reading-the-link-swift" class="BlogPageLayout__MyTag-sc-1pnb15k-8 fecpOA">Step 2: Reading the link (Swift)</h2><p>From the app side, we&#x27;ll hook into <a href="https://developer.apple.com/documentation/uikit/uipasteboard">UIPasteboard</a>, a UIKit class which allows your app to integrate with iOS&#x27;s copy and paste functionality. You can access the current contents of the general pasteboard (the one that gets updated when the user copies and pastes) using <code>UIPasteboard.general</code> - <code>UIPasteboard.general.strings</code> gives you the current text contents (pasteboard can also hold images, colors, etc).</p><p>For <a class="data-link" href="https://itunes.apple.com/us/app/trestle-the-new-sudoku/id1300230302?mt=8">Trestle</a>, I decided to encapsulate this functionality into an <code>AppStoreBridge</code> class - this class will have the responsibility of checking the pasteboard and reporting to its delegate if it sees a referral link.</p><pre class="dark-default-dark vscode-highlight" data-language="swift"><code class="vscode-highlight-code"><span class="vscode-highlight-line"><span class="mtk4">protocol</span><span class="mtk1"> </span><span class="mtk10">AppStoreBridgeDelegate</span><span class="mtk1">: </span><span class="mtk4">class</span><span class="mtk1"> {</span></span>
<span class="vscode-highlight-line"><span class="mtk1">    </span><span class="mtk4">func</span><span class="mtk1"> </span><span class="mtk11">appStoreBridge</span><span class="mtk1">(</span></span>
<span class="vscode-highlight-line"><span class="mtk1">        </span><span class="mtk11">_</span><span class="mtk1"> </span><span class="mtk12">bridge</span><span class="mtk1">: AppStoreBridge,</span></span>
<span class="vscode-highlight-line"><span class="mtk1">        </span><span class="mtk11">didTriggerCampaignLinkReferrer</span><span class="mtk1">: </span><span class="mtk10">String</span></span>
<span class="vscode-highlight-line"><span class="mtk1">    )</span></span>
<span class="vscode-highlight-line"><span class="mtk1">}</span></span>
<span class="vscode-highlight-line"><span class="mtk1"></span></span>
<span class="vscode-highlight-line"><span class="mtk4">final</span><span class="mtk1"> </span><span class="mtk4">class</span><span class="mtk1"> </span><span class="mtk10">AppStoreBridge</span><span class="mtk1"> {</span></span>
<span class="vscode-highlight-line"><span class="mtk1">    </span><span class="mtk4">static</span><span class="mtk1"> </span><span class="mtk4">let</span><span class="mtk1"> shared = </span><span class="mtk11">AppStoreBridge</span><span class="mtk1">()</span></span>
<span class="vscode-highlight-line"><span class="mtk1"></span></span>
<span class="vscode-highlight-line"><span class="mtk1">    </span><span class="mtk4">weak</span><span class="mtk1"> </span><span class="mtk4">var</span><span class="mtk1"> delegate: AppStoreBridgeDelegate?</span></span>
<span class="vscode-highlight-line"><span class="mtk1"></span></span>
<span class="vscode-highlight-line"><span class="mtk1">    </span><span class="mtk4">func</span><span class="mtk1"> </span><span class="mtk11">checkForReferralLinks</span><span class="mtk1">() {</span></span>
<span class="vscode-highlight-line"><span class="mtk1">        </span><span class="mtk3">// Check the UIPasteboard here...</span></span>
<span class="vscode-highlight-line"><span class="mtk1">    }</span></span>
<span class="vscode-highlight-line"><span class="mtk1">}</span></span></code></pre><p>To fill in the body of <code>checkForReferralLinks</code>, let&#x27;s first define the referral data we&#x27;re looking for:</p><pre class="dark-default-dark vscode-highlight" data-language="swift"><code class="vscode-highlight-code"><span class="vscode-highlight-line"><span class="mtk4">struct</span><span class="mtk1"> </span><span class="mtk10">ReferralData</span><span class="mtk1">: Codable {</span></span>
<span class="vscode-highlight-line"><span class="mtk1">    </span><span class="mtk4">let</span><span class="mtk1"> timestamp: TimeInterval</span></span>
<span class="vscode-highlight-line"><span class="mtk1">    </span><span class="mtk4">let</span><span class="mtk1"> referrer: </span><span class="mtk10">String</span></span>
<span class="vscode-highlight-line"><span class="mtk1">}</span></span></code></pre><p>Now we&#x27;ll iterate through all the strings in the pasteboard, and check them (using a wall of <code>guard</code> statements) to see the URL we&#x27;re expecting: </p><pre class="dark-default-dark vscode-highlight" data-language="swift"><code class="vscode-highlight-code"><span class="vscode-highlight-line"><span class="mtk4">let</span><span class="mtk1"> pasteboard = UIPasteboard.</span><span class="mtk12">general</span></span>
<span class="vscode-highlight-line"><span class="mtk15">guard</span><span class="mtk1"> </span><span class="mtk4">let</span><span class="mtk1"> strings = pasteboard.</span><span class="mtk12">strings</span><span class="mtk1"> </span><span class="mtk15">else</span><span class="mtk1"> { </span><span class="mtk15">return</span><span class="mtk1"> }</span></span>
<span class="vscode-highlight-line"><span class="mtk15">for</span><span class="mtk1"> string </span><span class="mtk15">in</span><span class="mtk1"> strings {</span></span>
<span class="vscode-highlight-line"><span class="mtk1">    </span><span class="mtk15">if</span><span class="mtk1"> string.</span><span class="mtk11">contains</span><span class="mtk1">(</span><span class="mtk8">&quot;id1300230302&quot;</span><span class="mtk1">) {</span></span>
<span class="vscode-highlight-line"><span class="mtk1">        </span><span class="mtk15">guard</span><span class="mtk1"> </span><span class="mtk4">let</span><span class="mtk1"> url = </span><span class="mtk11">URL</span><span class="mtk1">(</span><span class="mtk11">string</span><span class="mtk1">: string) </span><span class="mtk15">else</span><span class="mtk1"> { </span><span class="mtk15">return</span><span class="mtk1"> }</span></span>
<span class="vscode-highlight-line"><span class="mtk1">        </span><span class="mtk15">guard</span><span class="mtk1"> </span><span class="mtk4">let</span><span class="mtk1"> components = </span><span class="mtk11">URLComponents</span><span class="mtk1">(</span></span>
<span class="vscode-highlight-line"><span class="mtk1">            </span><span class="mtk11">url</span><span class="mtk1">: url,</span></span>
<span class="vscode-highlight-line"><span class="mtk1">            </span><span class="mtk11">resolvingAgainstBaseURL</span><span class="mtk1">: </span><span class="mtk4">false</span></span>
<span class="vscode-highlight-line"><span class="mtk1">        ) </span><span class="mtk15">else</span><span class="mtk1"> { </span><span class="mtk15">return</span><span class="mtk1"> }</span></span>
<span class="vscode-highlight-line"><span class="mtk1">        </span><span class="mtk15">guard</span><span class="mtk1"> </span><span class="mtk4">let</span><span class="mtk1"> queryItems = components.</span><span class="mtk12">queryItems</span><span class="mtk1"> </span><span class="mtk15">else</span><span class="mtk1"> { </span><span class="mtk15">return</span><span class="mtk1"> }</span></span>
<span class="vscode-highlight-line"><span class="mtk1">        </span><span class="mtk15">guard</span><span class="mtk1"> </span><span class="mtk4">let</span><span class="mtk1"> value = queryItems.</span><span class="mtk11">filter</span><span class="mtk1">(</span></span>
<span class="vscode-highlight-line"><span class="mtk1">            { </span><span class="mtk4">$0</span><span class="mtk1">.</span><span class="mtk12">name</span><span class="mtk1"> == </span><span class="mtk8">&quot;ed&quot;</span><span class="mtk1"> }</span></span>
<span class="vscode-highlight-line"><span class="mtk1">        ).</span><span class="mtk12">first</span><span class="mtk1">?.</span><span class="mtk12">value</span><span class="mtk1"> </span><span class="mtk15">else</span><span class="mtk1"> { </span><span class="mtk15">return</span><span class="mtk1"> }</span></span>
<span class="vscode-highlight-line"><span class="mtk1">        </span><span class="mtk15">guard</span><span class="mtk1"> </span><span class="mtk4">let</span><span class="mtk1"> data = </span><span class="mtk11">Data</span><span class="mtk1">(</span><span class="mtk11">base64Encoded</span><span class="mtk1">: value) </span><span class="mtk15">else</span><span class="mtk1"> { </span><span class="mtk15">return</span><span class="mtk1"> }</span></span>
<span class="vscode-highlight-line"><span class="mtk1">        </span><span class="mtk4">let</span><span class="mtk1"> decoder = </span><span class="mtk11">JSONDecoder</span><span class="mtk1">()</span></span>
<span class="vscode-highlight-line"><span class="mtk1">        </span><span class="mtk15">guard</span><span class="mtk1"> </span><span class="mtk4">let</span><span class="mtk1"> referral = </span><span class="mtk15">try</span><span class="mtk1">? decoder.</span><span class="mtk11">decode</span><span class="mtk1">(</span></span>
<span class="vscode-highlight-line"><span class="mtk1">            ReferralData.self,</span></span>
<span class="vscode-highlight-line"><span class="mtk1">            </span><span class="mtk11">from</span><span class="mtk1">: data</span></span>
<span class="vscode-highlight-line"><span class="mtk1">        ) </span><span class="mtk15">else</span><span class="mtk1"> { </span><span class="mtk15">return</span><span class="mtk1"> }</span></span>
<span class="vscode-highlight-line"><span class="mtk1">        </span><span class="mtk3">/// Use the referral object...</span></span>
<span class="vscode-highlight-line"><span class="mtk1">    }</span></span>
<span class="vscode-highlight-line"><span class="mtk1">}</span></span></code></pre><p>Note here that we use a string that we know will be in the URL (<code>&quot;id1300230302&quot;</code>) to quickly filter out any other pasteboard items.</p><p>Now all that&#x27;s left is to report the referral! However, we probably only want to take action if the user recently clicked the link - I used a timeout of 5 minutes here:</p><pre class="dark-default-dark vscode-highlight" data-language="swift"><code class="vscode-highlight-code"><span class="vscode-highlight-line"><span class="mtk4">let</span><span class="mtk1"> referralClickDate = </span><span class="mtk11">Date</span><span class="mtk1">(</span><span class="mtk11">timeIntervalSince1970</span><span class="mtk1">: referral.</span><span class="mtk12">timestamp</span><span class="mtk1">)</span></span>
<span class="vscode-highlight-line"><span class="mtk4">let</span><span class="mtk1"> currentDate = </span><span class="mtk11">Date</span><span class="mtk1">()</span></span>
<span class="vscode-highlight-line"><span class="mtk15">if</span><span class="mtk1"> currentDate.</span><span class="mtk11">minutes</span><span class="mtk1">(</span><span class="mtk11">from</span><span class="mtk1">: referralClickDate) &lt; </span><span class="mtk7">5</span><span class="mtk1"> {</span></span>
<span class="vscode-highlight-line"><span class="mtk1">    </span><span class="mtk4">self</span><span class="mtk1">.</span><span class="mtk12">delegate</span><span class="mtk1">?.</span><span class="mtk11">appStoreBridge</span><span class="mtk1">(</span></span>
<span class="vscode-highlight-line"><span class="mtk1">        </span><span class="mtk4">self</span><span class="mtk1">,</span></span>
<span class="vscode-highlight-line"><span class="mtk1">        </span><span class="mtk11">didTriggerCampaignLinkReferrer</span><span class="mtk1">: referral.</span><span class="mtk12">referrer</span></span>
<span class="vscode-highlight-line"><span class="mtk1">    )</span></span>
<span class="vscode-highlight-line"><span class="mtk1">    </span><span class="mtk15">return</span></span>
<span class="vscode-highlight-line"><span class="mtk1">}</span></span></code></pre><p>The small Date extension to make this possible looks like:</p><pre class="dark-default-dark vscode-highlight" data-language="swift"><code class="vscode-highlight-code"><span class="vscode-highlight-line"><span class="mtk4">extension</span><span class="mtk1"> </span><span class="mtk10">Date</span><span class="mtk1"> {</span></span>
<span class="vscode-highlight-line"><span class="mtk1">    </span><span class="mtk4">func</span><span class="mtk1"> </span><span class="mtk11">minutes</span><span class="mtk1">(</span><span class="mtk11">from</span><span class="mtk1"> </span><span class="mtk12">date</span><span class="mtk1">: Date) -&gt; </span><span class="mtk10">Int</span><span class="mtk1"> {</span></span>
<span class="vscode-highlight-line"><span class="mtk1">        </span><span class="mtk15">return</span><span class="mtk1"> Calendar.</span><span class="mtk12">current</span><span class="mtk1">.</span><span class="mtk11">dateComponents</span><span class="mtk1">(</span></span>
<span class="vscode-highlight-line"><span class="mtk1">            [.</span><span class="mtk12">minute</span><span class="mtk1">],</span></span>
<span class="vscode-highlight-line"><span class="mtk1">            </span><span class="mtk11">from</span><span class="mtk1">: date,</span></span>
<span class="vscode-highlight-line"><span class="mtk1">            </span><span class="mtk11">to</span><span class="mtk1">: </span><span class="mtk4">self</span></span>
<span class="vscode-highlight-line"><span class="mtk1">        ).</span><span class="mtk12">minute</span><span class="mtk1"> ?? </span><span class="mtk7">0</span></span>
<span class="vscode-highlight-line"><span class="mtk1">    }</span></span>
<span class="vscode-highlight-line"><span class="mtk1">}</span></span></code></pre><p>And we&#x27;re done! Our app store bridge tells the app delegate that it noticed a referral, and we can then take any action we want!</p><pre class="dark-default-dark vscode-highlight" data-language="swift"><code class="vscode-highlight-code"><span class="vscode-highlight-line"><span class="mtk4">extension</span><span class="mtk1"> </span><span class="mtk10">AppDelegate</span><span class="mtk1">: AppStoreBridgeDelegate {</span></span>
<span class="vscode-highlight-line"><span class="mtk1">    </span><span class="mtk4">func</span><span class="mtk1"> </span><span class="mtk11">appStoreBridge</span><span class="mtk1">(</span></span>
<span class="vscode-highlight-line"><span class="mtk1">        </span><span class="mtk11">_</span><span class="mtk1"> </span><span class="mtk12">bridge</span><span class="mtk1">: AppStoreBridge,</span></span>
<span class="vscode-highlight-line"><span class="mtk1">        </span><span class="mtk11">didTriggerCampaignLink</span><span class="mtk1"> </span><span class="mtk12">referrer</span><span class="mtk1">: </span><span class="mtk10">String</span></span>
<span class="vscode-highlight-line"><span class="mtk1">    ) {</span></span>
<span class="vscode-highlight-line"><span class="mtk1">        </span><span class="mtk15">if</span><span class="mtk1"> referrer == </span><span class="mtk8">&quot;pasteboard-blog-post&quot;</span><span class="mtk1"> {</span></span>
<span class="vscode-highlight-line"><span class="mtk1">            </span><span class="mtk3">// Show an easter egg, unlock level sets, etc...</span></span>
<span class="vscode-highlight-line"><span class="mtk1">        }</span></span>
<span class="vscode-highlight-line"><span class="mtk1">    }</span></span>
<span class="vscode-highlight-line"><span class="mtk1">}</span></span></code></pre><h1 id="ux-considerations" class="BlogPageLayout__MyTag-sc-1pnb15k-8 fecpOA">UX considerations</h1><p>There are a couple of user experience issues to keep in mind here:</p><ol><li>Using this technique clobbers whatever&#x27;s in the user&#x27;s pasteboard currently. Usually this won&#x27;t be a problem, because users should understand the pasteboard is ephemeral, but you might not want to do this if copying and pasting in your web app is a common use case (text editor, etc).</li><li>It&#x27;s important to remember, on your call to <code>didTriggerCampaignLink</code>, to save some sort of flag locally so as not to accidentally trigger the referral link the next time the user opens the app. Trestle uses UserDefaults for this, which is probably as good a store as any.</li></ol><h1 id="security-considerations" class="BlogPageLayout__MyTag-sc-1pnb15k-8 fecpOA">Security considerations</h1><p>We should always consider approaches like this with security in mind, and this technique warrants a few very important considerations:</p><ol><li>If you take any action from the <code>AppStoreBridge</code>, assume that <em>anyone</em> can trigger that action <em>at any time</em>. This means you don&#x27;t want to take actions that expose private data, make payments, etc. Consider your <code>AppStoreBridge</code> functionality as publicly exposed, since an attacker could pre-populate the pasteboard with anything they want to trigger the <code>AppStoreBridge</code> logic.</li><li>Don&#x27;t expose any private information via the <code>DataLink</code>, <em>especially</em> not user session tokens. Other apps can read the pasteboard too, so assume that all data encoded in a <code>DataLink</code> will be publicly available to anyone. Don&#x27;t include anything in a data link that could be associated with a user&#x27;s PII (personally identifiable information) including emails, locations, etc.</li></ol><h1 id="will-this-get-my-app-rejected" class="BlogPageLayout__MyTag-sc-1pnb15k-8 fecpOA">Will this get my app rejected?</h1><p><a href="https://developer.apple.com/app-store/review/guidelines/#software-requirements">Section 2.5.1 of the App Store Review Guidelines</a> says the following:</p><blockquote><p>Apps should use APIs and frameworks for their intended purposes and indicate that integration in their app description.</p></blockquote><p>Though this is probably referring more to frameworks like HomeKit (mentioned as an example), using <code>UIPasteboard</code> as described in this post is technically an unintended use of the API. Your mileage might vary, and I&#x27;m not claiming anything about this approach.</p><p>There are also a few things that could change that would throw a wrench in things - the behavior of the execCommand could change, Apple could change the behavior of the general pasteboard, etc. This technique was a good use case for <a class="data-link" href="https://itunes.apple.com/us/app/trestle-the-new-sudoku/id1300230302?mt=8">Trestle</a>, but might not match yours. 🤷‍♂</p><h1 id="conclusion" class="BlogPageLayout__MyTag-sc-1pnb15k-8 fecpOA">Conclusion</h1><p>Hopefully this was an interesting technical discussion of a simple way to get around a complicated problem, and provide user delight in the flow from mobile web to app. If you have any other hacky ideas about how to pass data across the app store, feel free to <a href="https://twitter.com/noahsark769">reach out</a>. (And if you&#x27;d like to see <code>UIPasteboard</code> in action, you can download Trestle using <a class="data-link" href="https://itunes.apple.com/us/app/trestle-the-new-sudoku/id1300230302?mt=8">this link</a>.)</p><style class="vscode-highlight-styles">
  
  .dark-default-dark {
background-color: #1E1E1E;
color: #D4D4D4;
}

.dark-default-dark .mtk1 { color: #D4D4D4; }
.dark-default-dark .mtk2 { color: #1E1E1E; }
.dark-default-dark .mtk3 { color: #6A9955; }
.dark-default-dark .mtk4 { color: #569CD6; }
.dark-default-dark .mtk5 { color: #D16969; }
.dark-default-dark .mtk6 { color: #D7BA7D; }
.dark-default-dark .mtk7 { color: #B5CEA8; }
.dark-default-dark .mtk8 { color: #CE9178; }
.dark-default-dark .mtk9 { color: #646695; }
.dark-default-dark .mtk10 { color: #4EC9B0; }
.dark-default-dark .mtk11 { color: #DCDCAA; }
.dark-default-dark .mtk12 { color: #9CDCFE; }
.dark-default-dark .mtk13 { color: #000080; }
.dark-default-dark .mtk14 { color: #F44747; }
.dark-default-dark .mtk15 { color: #C586C0; }
.dark-default-dark .mtk16 { color: #6796E6; }
.dark-default-dark .mtk17 { color: #808080; }
.dark-default-dark .mtki { font-style: italic; }
.dark-default-dark .mtkb { font-weight: bold; }
.dark-default-dark .mtku { text-decoration: underline; text-underline-position: under; }
</style></div><div class="BlogPageLayout__NonContent-sc-1pnb15k-1 bDzSYv"><div class="EndButtons__Container-sc-1rt8k5q-0 jmGPXo"><a href="https://twitter.com/intent/tweet?text=Post%20by%20%40noahsark769%3A%20Passing%20data%20through%20the%20App%20Store%20with%20UIPasteboard%20https%3A%2F%2Fnoahgilmore.com%2Fblog%2Fdata-over-the-app-store%2F" target="_blank" class="default__HighlightedA-phsh4y-6 gkfXpi pr-8">Tweet This</a><a href="https://noahgilmore.substack.com/" target="_blank" class="default__HighlightedA-phsh4y-6 gkfXpi">Get New Posts Via Email</a></div><div style="font-family:&#x27;Merriweather&#x27;, times, serif" class="dark-mode:text-white flex flex-col leading-6 mt-32 pt-16 border-t border-solid border-white"><div class="flex flex-row items-center mb-12 md:mb-0"><div class="w-32 md:w-48 max-w-none rounded-full overflow-hidden mr-8"><div class=" gatsby-image-wrapper" style="position:relative;overflow:hidden"><div style="width:100%;padding-bottom:100%"></div><img src="data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAUABQDASIAAhEBAxEB/8QAGAABAQEBAQAAAAAAAAAAAAAAAAQCAQP/xAAUAQEAAAAAAAAAAAAAAAAAAAAB/9oADAMBAAIQAxAAAAGqHuxgbBQF8Qn/xAAeEAABAwQDAAAAAAAAAAAAAAACAAEDBBESEyExMv/aAAgBAQABBQKQXR8BssoDnkR4p8b0XkBY6huv/8QAFREBAQAAAAAAAAAAAAAAAAAAASD/2gAIAQMBAT8BCP/EABYRAQEBAAAAAAAAAAAAAAAAABABQf/aAAgBAgEBPwGmn//EAB0QAAIBBAMAAAAAAAAAAAAAAAABMQIDESEQUXH/2gAIAQEABj8C6NzxWm9YFQ9sgueGHBCP/8QAHBABAAICAwEAAAAAAAAAAAAAAQARITFBYXGB/9oACAEBAAE/IUND6qPHO2JMoYBbNRDz3OII2/mkpnotfI6JZ6T/2gAMAwEAAgADAAAAEBM4gP/EABcRAQADAAAAAAAAAAAAAAAAABABEUH/2gAIAQMBAT8Qsgw//8QAGhEAAgIDAAAAAAAAAAAAAAAAAAEQESFBcf/aAAgBAgEBPxBqaMG3I//EAB4QAQEAAgICAwAAAAAAAAAAAAERACFBUTFhcZGx/9oACAEBAAE/EHFVvJ+4mjaBRl9zDViecIpgCUrx3ocTbhJsBbvvr4x10eIY5LdFeNuLr04Kb2v3gJREorn/2Q==" alt="Picture of me with a corgi" style="position:absolute;top:0;left:0;width:100%;height:100%;object-fit:cover;object-position:center;opacity:1;transition-delay:500ms"/><noscript><picture><source srcset="/static/a5f1e0ee8af819520ac472cb18032c72/421ae/corgi.jpg 150w,
/static/a5f1e0ee8af819520ac472cb18032c72/58d6d/corgi.jpg 300w,
/static/a5f1e0ee8af819520ac472cb18032c72/f5db2/corgi.jpg 600w,
/static/a5f1e0ee8af819520ac472cb18032c72/4d2f6/corgi.jpg 900w,
/static/a5f1e0ee8af819520ac472cb18032c72/04d73/corgi.jpg 1067w" sizes="(max-width: 600px) 100vw, 600px" /><img loading="lazy" sizes="(max-width: 600px) 100vw, 600px" srcset="/static/a5f1e0ee8af819520ac472cb18032c72/421ae/corgi.jpg 150w,
/static/a5f1e0ee8af819520ac472cb18032c72/58d6d/corgi.jpg 300w,
/static/a5f1e0ee8af819520ac472cb18032c72/f5db2/corgi.jpg 600w,
/static/a5f1e0ee8af819520ac472cb18032c72/4d2f6/corgi.jpg 900w,
/static/a5f1e0ee8af819520ac472cb18032c72/04d73/corgi.jpg 1067w" src="/static/a5f1e0ee8af819520ac472cb18032c72/f5db2/corgi.jpg" alt="Picture of me with a corgi" style="position:absolute;top:0;left:0;opacity:1;width:100%;height:100%;object-fit:cover;object-position:center"/></picture></noscript></div></div><div class="flex flex-col"><h1 class="uppercase text-3xl font-bold mb-4 leading-8" style="font-family:&#x27;Roboto&#x27;, sans-serif">Noah Gilmore</h1><p class="hidden md:block">I&#x27;m Noah, a software developer based in the San Francisco Bay Area. I focus mainly on iOS, Apple platform development, and full stack web development.</p></div></div><p class="block md:hidden mb-12">Hello! I&#x27;m Noah, a software developer based in the San Francisco bay area. I focus mainly on iOS, Apple platform development, and full stack web development.</p><div><ul class="p-0 md:pt-8 md:pb-8"><li class="pb-6"><span role="img" aria-label="Computer">💻</span> I&#x27;m writing a macOS editor for Atlassian Confluence called <a class="default__HighlightedA-phsh4y-6 gkfXpi underline" href="https://getfluency.io">Fluency</a></li><li class="pb-6"><span role="img" aria-label="Phone">📱</span> I wrote an app which lets you create transparent app icons called <a class="default__HighlightedA-phsh4y-6 gkfXpi underline" href="https://transparenticons.app">Transparent App Icons</a></li><li class="pb-6"><span role="img" aria-label="Puzzle">🧩</span> I made a puzzle game for iPhone and iPad called <a class="default__HighlightedA-phsh4y-6 gkfXpi underline" href="https://apps.apple.com/us/app/trestle-the-new-sudoku/id1300230302">Trestle</a></li><li class="pb-6"><span role="img" aria-label="Art">🎨</span> I wrote a CoreImage filter utility app for iOS developers called <a class="default__HighlightedA-phsh4y-6 gkfXpi underline" href="https://apps.apple.com/us/app/cifilter-io/id1457458557">CIFilter.io</a></li><li><span role="img" aria-label="Wave">👋</span> Please feel free to reach out on <a class="default__HighlightedA-phsh4y-6 gkfXpi underline" href="https://twitter.com/noahsark769">Twitter</a></li></ul></div></div><div class="Disqus__Wrapper-sc-15q2k8t-0 dXIkuv"><div id="disqus_thread"></div></div></div></div></div></div></div></div></div><script id="gatsby-script-loader">/*<![CDATA[*/window.pagePath="/blog/data-over-the-app-store/";/*]]>*/</script><script id="gatsby-chunk-mapping">/*<![CDATA[*/window.___chunkMapping={"app":["/app-e3e77e799401b31c8f55.js"],"component---src-templates-mdx-blog-posts-template-jsx":["/component---src-templates-mdx-blog-posts-template-jsx-e7eecaf3819407a43e71.js"],"component---src-pages-404-jsx":["/component---src-pages-404-jsx-4a15296be80b713f3a9d.js"],"component---src-pages-blog-index-jsx":["/component---src-pages-blog-index-jsx-1993272147cdabff5096.js"],"component---src-pages-examples-ios-copy-to-clipboard-index-jsx":["/component---src-pages-examples-ios-copy-to-clipboard-index-jsx-dffdc1859cfeb5df06dd.js"],"component---src-pages-index-jsx":["/component---src-pages-index-jsx-fb6a0d875aa7f0bd0051.js"],"component---src-pages-blog-advertising-mdx":["/component---src-pages-blog-advertising-mdx-6041348659d9ad4498a7.js"],"component---src-pages-blog-amplitude-macos-mdx":["/component---src-pages-blog-amplitude-macos-mdx-6bb9459a62344934ce8a.js"],"component---src-pages-blog-automatic-preview-updating-paused-mdx":["/component---src-pages-blog-automatic-preview-updating-paused-mdx-d1615e4f90af4eb46d49.js"],"component---src-pages-blog-catalina-importerror-no-module-named-zlib-mdx":["/component---src-pages-blog-catalina-importerror-no-module-named-zlib-mdx-a532dcf39d7fef818c33.js"],"component---src-pages-blog-cfbundleversion-invalid-mdx":["/component---src-pages-blog-cfbundleversion-invalid-mdx-c3571ac20ee0da7d4032.js"],"component---src-pages-blog-cifilter-colorwheel-mdx":["/component---src-pages-blog-cifilter-colorwheel-mdx-1264d2ff668442a56743.js"],"component---src-pages-blog-cifilterio-mdx":["/component---src-pages-blog-cifilterio-mdx-09ef1f8ab365e2c0ffed.js"],"component---src-pages-blog-civector-codable-mdx":["/component---src-pages-blog-civector-codable-mdx-a604974277ebf64c5a4c.js"],"component---src-pages-blog-color-compatibility-pod-mdx":["/component---src-pages-blog-color-compatibility-pod-mdx-04b6318ab9152fe8b50c.js"],"component---src-pages-blog-coreanimation-metal-mdx":["/component---src-pages-blog-coreanimation-metal-mdx-71ec5a53613965d04cb7.js"],"component---src-pages-blog-dark-mode-uicolor-compatibility-mdx":["/component---src-pages-blog-dark-mode-uicolor-compatibility-mdx-b42baaee5524ab362631.js"],"component---src-pages-blog-data-over-the-app-store-mdx":["/component---src-pages-blog-data-over-the-app-store-mdx-c0ca5251de352655e4d1.js"],"component---src-pages-blog-didprocessediting-crash-mdx":["/component---src-pages-blog-didprocessediting-crash-mdx-56d5ea29af9b22dfb185.js"],"component---src-pages-blog-docker-commands-mdx":["/component---src-pages-blog-docker-commands-mdx-7a10f712c96ce51a9390.js"],"component---src-pages-blog-easy-gatsby-image-components-mdx":["/component---src-pages-blog-easy-gatsby-image-components-mdx-6bb08b248064874ab7bb.js"],"component---src-pages-blog-gatsby-mdx-frontmatter-mdx":["/component---src-pages-blog-gatsby-mdx-frontmatter-mdx-e7f2795b9aec8d5427aa.js"],"component---src-pages-blog-gatsby-tailwind-mdx":["/component---src-pages-blog-gatsby-tailwind-mdx-4139cd11d9cade837913.js"],"component---src-pages-blog-gpu-capture-flickering-mdx":["/component---src-pages-blog-gpu-capture-flickering-mdx-2fc5a60d32baf22b1ec7.js"],"component---src-pages-blog-install-nokogiri-macos-mojave-mdx":["/component---src-pages-blog-install-nokogiri-macos-mojave-mdx-ac0be3cc0cfaaa31c1cb.js"],"component---src-pages-blog-installing-sharp-github-actions-mdx":["/component---src-pages-blog-installing-sharp-github-actions-mdx-cf5b2e1f9534a3cf52d9.js"],"component---src-pages-blog-my-bucket-list-mdx":["/component---src-pages-blog-my-bucket-list-mdx-03fa7b709932b453003a.js"],"component---src-pages-blog-nesting-property-wrappers-mdx":["/component---src-pages-blog-nesting-property-wrappers-mdx-889dadc41c73688faeac.js"],"component---src-pages-blog-nsobject-equatable-mdx":["/component---src-pages-blog-nsobject-equatable-mdx-4de465e83130b4311a35.js"],"component---src-pages-blog-nstextview-shift-tab-mdx":["/component---src-pages-blog-nstextview-shift-tab-mdx-b2e6f02fcd2a6e4ea1df.js"],"component---src-pages-blog-popover-uinavigationcontroller-preferredcontentsize-mdx":["/component---src-pages-blog-popover-uinavigationcontroller-preferredcontentsize-mdx-db8fdcc313df4336f6a6.js"],"component---src-pages-blog-pyparsing-trees-mdx":["/component---src-pages-blog-pyparsing-trees-mdx-9c3ddd5a1014988f9d49.js"],"component---src-pages-blog-refactoring-private-to-public-mdx":["/component---src-pages-blog-refactoring-private-to-public-mdx-b8df43e3cf2faa93db94.js"],"component---src-pages-blog-rxswift-multiple-subscribers-mdx":["/component---src-pages-blog-rxswift-multiple-subscribers-mdx-5f4ca07e36fa39d6444e.js"],"component---src-pages-blog-sf-symbols-ios-14-mdx":["/component---src-pages-blog-sf-symbols-ios-14-mdx-aa715423efa959eaab5d.js"],"component---src-pages-blog-swift-dependency-injection-mdx":["/component---src-pages-blog-swift-dependency-injection-mdx-d57a10df174cca0c284e.js"],"component---src-pages-blog-swift-pointer-uint-mdx":["/component---src-pages-blog-swift-pointer-uint-mdx-296fdf36620a6897d1f2.js"],"component---src-pages-blog-swiftui-equatable-crash-mdx":["/component---src-pages-blog-swiftui-equatable-crash-mdx-98da1bbe1e2c720583a3.js"],"component---src-pages-blog-swiftui-relativedatetimeformatter-mdx":["/component---src-pages-blog-swiftui-relativedatetimeformatter-mdx-194b1c3fbb0fdd716dfd.js"],"component---src-pages-blog-swiftui-self-sizing-cells-mdx":["/component---src-pages-blog-swiftui-self-sizing-cells-mdx-2ce5a6cdd7aefab53ed0.js"],"component---src-pages-blog-swiftui-two-columns-equal-width-mdx":["/component---src-pages-blog-swiftui-two-columns-equal-width-mdx-6d685eebf7803ec1d8b0.js"],"component---src-pages-blog-tables-are-hard-mdx":["/component---src-pages-blog-tables-are-hard-mdx-1ed388614cc895a99385.js"],"component---src-pages-blog-taking-down-sfsymbols-mdx":["/component---src-pages-blog-taking-down-sfsymbols-mdx-2a3ca080ffbc4aca2886.js"],"component---src-pages-blog-transparent-app-icons-mdx":["/component---src-pages-blog-transparent-app-icons-mdx-938e95c86cd4cd9cac0e.js"],"component---src-pages-blog-tuple-shuffling-mdx":["/component---src-pages-blog-tuple-shuffling-mdx-c16453980be0999333d9.js"],"component---src-pages-blog-uibutton-padding-mdx":["/component---src-pages-blog-uibutton-padding-mdx-ef5ecd02a056dba03341.js"],"component---src-pages-blog-uipasteboard-webp-mdx":["/component---src-pages-blog-uipasteboard-webp-mdx-7169b363512f1290154d.js"],"component---src-pages-blog-uiwindowscene-black-screen-mdx":["/component---src-pages-blog-uiwindowscene-black-screen-mdx-88251d021331b7e5b9a0.js"],"component---src-pages-blog-userdefaults-editor-swiftui-mdx":["/component---src-pages-blog-userdefaults-editor-swiftui-mdx-adca2a971db5f08a7908.js"],"component---src-pages-blog-userdefaults-set-nil-mdx":["/component---src-pages-blog-userdefaults-set-nil-mdx-1024f16a9a2eb83acf13.js"],"component---src-pages-blog-xcode-shared-test-target-mdx":["/component---src-pages-blog-xcode-shared-test-target-mdx-8379ff29794f156fc128.js"]};/*]]>*/</script><script src="/component---src-pages-blog-data-over-the-app-store-mdx-c0ca5251de352655e4d1.js" async=""></script><script src="/commons-3e6dfaab6d1d44869a85.js" async=""></script><script src="/app-e3e77e799401b31c8f55.js" async=""></script><script src="/styles-c1c07cf25e5f354e4d8e.js" async=""></script><script src="/webpack-runtime-ca5d89e5047a55ed27c3.js" async=""></script></body></html>