{"version":3,"sources":["webpack:///./src/pages/blog/coreanimation-metal.mdx"],"names":["_frontmatter","layoutProps","MDXLayout","DefaultLayout","MDXContent","components","props","mdxType","parentName","max","filename","alt","caption","isMDXComponent"],"mappings":"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","file":"component---src-pages-blog-coreanimation-metal-mdx-19b45e3e4562bd7eaa85.js","sourcesContent":["import React from 'react'\n  /* @jsx mdx */\nimport { mdx } from '@mdx-js/react';\n/* @jsx mdx */\n\nimport DefaultLayout from \"/Users/noahgilmore/code/noahgilmore.com/src/components/BlogPageLayout.jsx\";\nimport CaptionedImage from '../../components/CaptionedImage';\nimport Instabug from '../../components/Instabug';\nexport const _frontmatter = {};\n\nconst makeShortcode = name => function MDXDefaultShortcode(props) {\n  console.warn(\"Component \" + name + \" was not imported, exported, or provided by MDXProvider as global scope\");\n  return <div {...props} />;\n};\n\nconst layoutProps = {\n  _frontmatter\n};\nconst MDXLayout = DefaultLayout;\nexport default function MDXContent({\n  components,\n  ...props\n}) {\n  return <MDXLayout {...layoutProps} {...props} components={components} mdxType=\"MDXLayout\">\n\n\n\n    <blockquote>\n      <p parentName=\"blockquote\">{`Update (12/26/2019): A previous version of this post incorrectly stated implict animations happen in layers which back `}<inlineCode parentName=\"p\">{`UIView`}</inlineCode>{`s. Actually, layers which back `}<inlineCode parentName=\"p\">{`UIView`}</inlineCode>{`s don't have animations unless you implement the view's `}<inlineCode parentName=\"p\">{`action(for:forKey:)`}</inlineCode>{` method. More information is available in `}<a parentName=\"p\" {...{\n          \"href\": \"https://github.com/noahsark769/NGUIViewLayerBackgroundColorTest\"\n        }}>{`this github repo`}</a>{`.`}</p>\n    </blockquote>\n    <p>{`Recently, I've been learning more about Metal - I'm still working through the basics, but I've written a couple of `}<a parentName=\"p\" {...{\n        \"href\": \"/blog/gpu-capture-flickering\"\n      }}>{`posts`}</a>{` and `}<a parentName=\"p\" {...{\n        \"href\": \"https://twitter.com/noahsark769/status/1197599674917515264\"\n      }}>{`tweets`}</a>{` about it, and I'm about halfway through `}<a parentName=\"p\" {...{\n        \"href\": \"https://github.com/noahsark769/MetalByExampleExamples\"\n      }}>{`Metal By Example`}</a>{`. Up until now I've mostly been coding sample projects, but I recently had the opportunity to prototype a Metal implementation integrated into our production app at work.`}</p>\n    <p>{`One thing I hadn't considered until I had to implement Metal in a real app was animations - when another part of our interface animated, we wanted to scale the Metal content along with an animation. This post will dive into how to adapt the CALayer animation system to work with a custom Metal view, and along the way we'll see a situation which Swift can't handle without hacks. (ðŸ˜±)`}</p>\n    <p>{`Our goal will be to build a triangle that animates to a new scale when a button is pressed:`}</p>\n    <CaptionedImage max={400} filename=\"calayer-metal-1.gif\" alt=\"Blue triangle animating from 1x to 2x scale when a button is clicked\" caption=\"\" mdxType=\"CaptionedImage\" />\n    <blockquote>\n      <p parentName=\"blockquote\">{`Full sample code is available for this project at `}<a parentName=\"p\" {...{\n          \"href\": \"https://github.com/noahsark769/NGCAMetalLayerAnimationExample\"\n        }}>{`NGCAMetalLayerAnimationExample`}</a>{`.`}</p>\n    </blockquote>\n    <h2 {...{\n      \"id\": \"getting-started\"\n    }}>{`Getting started`}</h2>\n    <p>{`Our sample project will follow the architecture adapted from the Xcode default Metal project (what Xcode gives you after New Project > Cross Platform Game):`}</p>\n    <ol>\n      <li parentName=\"ol\">{`We'll have a `}<inlineCode parentName=\"li\">{`Renderer`}</inlineCode>{` with a `}<inlineCode parentName=\"li\">{`draw(drawable:)`}</inlineCode>{` method which is responsible for issuing Metal draw calls with the `}<inlineCode parentName=\"li\">{`drawable`}</inlineCode>{` as a target. The renderer will have a `}<inlineCode parentName=\"li\">{`triangleScale`}</inlineCode>{` property to determine what transform to the triangle's vertices.`}</li>\n      <li parentName=\"ol\">{`We'll have a custom view with a `}<a parentName=\"li\" {...{\n          \"href\": \"https://developer.apple.com/documentation/quartzcore/cametallayer\"\n        }}><inlineCode parentName=\"a\">{`CAMetalLayer`}</inlineCode></a>{` subclass, and we'll override the layer's `}<inlineCode parentName=\"li\">{`display()`}</inlineCode>{` to call `}<inlineCode parentName=\"li\">{`draw`}</inlineCode>{`, passing the drawable from `}<a parentName=\"li\" {...{\n          \"href\": \"https://developer.apple.com/documentation/quartzcore/cametallayer/1478172-nextdrawable\"\n        }}><inlineCode parentName=\"a\">{`nextDrawable`}</inlineCode></a>{`.`}</li>\n    </ol>\n    <blockquote>\n      <p parentName=\"blockquote\">{`Note: we need a `}<inlineCode parentName=\"p\">{`CAMetalLayer`}</inlineCode>{` instead of an `}<a parentName=\"p\" {...{\n          \"href\": \"https://developer.apple.com/documentation/metalkit/mtkview\"\n        }}><inlineCode parentName=\"a\">{`MTKView`}</inlineCode></a>{` here, for reasons I'll get into near the end of this post.`}</p>\n    </blockquote>\n    <p>{`Our custom layer looks like this:`}</p>\n    <pre {...{\n      \"className\": \"dark-default-dark vscode-highlight\",\n      \"data-language\": \"swift\"\n    }}><code parentName=\"pre\" {...{\n        \"className\": \"vscode-highlight-code\"\n      }}><span parentName=\"code\" {...{\n          \"className\": \"vscode-highlight-line\"\n        }}><span parentName=\"span\" {...{\n            \"className\": \"mtk4\"\n          }}>{`class`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{` `}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk10\"\n          }}>{`CustomCAMetalLayer`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{`: CAMetalLayer {`}</span></span>{`\n`}<span parentName=\"code\" {...{\n          \"className\": \"vscode-highlight-line\"\n        }}><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{`    `}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk4\"\n          }}>{`private`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{` `}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk4\"\n          }}>{`var`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{` renderer: Renderer!`}</span></span>{`\n`}<span parentName=\"code\" {...{\n          \"className\": \"vscode-highlight-line\"\n        }}><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}></span></span>{`\n`}<span parentName=\"code\" {...{\n          \"className\": \"vscode-highlight-line\"\n        }}><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{`    `}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk4\"\n          }}>{`override`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{` `}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk4\"\n          }}>{`init`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{`() {`}</span></span>{`\n`}<span parentName=\"code\" {...{\n          \"className\": \"vscode-highlight-line\"\n        }}><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{`        `}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk4\"\n          }}>{`super`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{`.`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk4\"\n          }}>{`init`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{`()`}</span></span>{`\n`}<span parentName=\"code\" {...{\n          \"className\": \"vscode-highlight-line\"\n        }}><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{`        `}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk4\"\n          }}>{`self`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{`.`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk12\"\n          }}>{`device`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{` = `}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk11\"\n          }}>{`MTLCreateSystemDefaultDevice`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{`()!`}</span></span>{`\n`}<span parentName=\"code\" {...{\n          \"className\": \"vscode-highlight-line\"\n        }}><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{`        `}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk4\"\n          }}>{`self`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{`.`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk12\"\n          }}>{`renderer`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{` = `}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk11\"\n          }}>{`Renderer`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{`(`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk11\"\n          }}>{`device`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{`: `}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk4\"\n          }}>{`self`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{`.`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk12\"\n          }}>{`device`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{`!)`}</span></span>{`\n`}<span parentName=\"code\" {...{\n          \"className\": \"vscode-highlight-line\"\n        }}><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{`        `}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk4\"\n          }}>{`self`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{`.`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk11\"\n          }}>{`setNeedsDisplay`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{`()`}</span></span>{`\n`}<span parentName=\"code\" {...{\n          \"className\": \"vscode-highlight-line\"\n        }}><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{`    }`}</span></span>{`\n`}<span parentName=\"code\" {...{\n          \"className\": \"vscode-highlight-line\"\n        }}><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}></span></span>{`\n`}<span parentName=\"code\" {...{\n          \"className\": \"vscode-highlight-line\"\n        }}><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{`    `}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk3\"\n          }}>{`/// Block the current thread until this layer has a drawable ready.`}</span></span>{`\n`}<span parentName=\"code\" {...{\n          \"className\": \"vscode-highlight-line\"\n        }}><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{`    `}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk4\"\n          }}>{`private`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{` `}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk4\"\n          }}>{`func`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{` `}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk11\"\n          }}>{`blockRequestingNextDrawable`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{`() -> CAMetalDrawable {`}</span></span>{`\n`}<span parentName=\"code\" {...{\n          \"className\": \"vscode-highlight-line\"\n        }}><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{`        `}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk4\"\n          }}>{`var`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{` drawable: CAMetalDrawable? = `}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk4\"\n          }}>{`nil`}</span></span>{`\n`}<span parentName=\"code\" {...{\n          \"className\": \"vscode-highlight-line\"\n        }}><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{`        `}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk15\"\n          }}>{`while`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{` (drawable == `}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk4\"\n          }}>{`nil`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{`) {`}</span></span>{`\n`}<span parentName=\"code\" {...{\n          \"className\": \"vscode-highlight-line\"\n        }}><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{`            drawable = `}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk4\"\n          }}>{`self`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{`.`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk11\"\n          }}>{`nextDrawable`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{`()`}</span></span>{`\n`}<span parentName=\"code\" {...{\n          \"className\": \"vscode-highlight-line\"\n        }}><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{`        }`}</span></span>{`\n`}<span parentName=\"code\" {...{\n          \"className\": \"vscode-highlight-line\"\n        }}><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{`        `}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk15\"\n          }}>{`return`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{` drawable!`}</span></span>{`\n`}<span parentName=\"code\" {...{\n          \"className\": \"vscode-highlight-line\"\n        }}><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{`    }`}</span></span>{`\n`}<span parentName=\"code\" {...{\n          \"className\": \"vscode-highlight-line\"\n        }}><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}></span></span>{`\n`}<span parentName=\"code\" {...{\n          \"className\": \"vscode-highlight-line\"\n        }}><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{`    `}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk4\"\n          }}>{`override`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{` `}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk4\"\n          }}>{`func`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{` `}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk11\"\n          }}>{`display`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{`() {`}</span></span>{`\n`}<span parentName=\"code\" {...{\n          \"className\": \"vscode-highlight-line\"\n        }}><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{`        `}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk4\"\n          }}>{`let`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{` drawable = `}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk4\"\n          }}>{`self`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{`.`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk11\"\n          }}>{`blockRequestingNextDrawable`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{`()`}</span></span>{`\n`}<span parentName=\"code\" {...{\n          \"className\": \"vscode-highlight-line\"\n        }}><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{`        `}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk4\"\n          }}>{`self`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{`.`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk12\"\n          }}>{`renderer`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{`.`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk11\"\n          }}>{`draw`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{`(`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk11\"\n          }}>{`drawable`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{`: drawable)`}</span></span>{`\n`}<span parentName=\"code\" {...{\n          \"className\": \"vscode-highlight-line\"\n        }}><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{`    }`}</span></span>{`\n`}<span parentName=\"code\" {...{\n          \"className\": \"vscode-highlight-line\"\n        }}><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{`}`}</span></span>{`\n`}<span parentName=\"code\" {...{\n          \"className\": \"vscode-highlight-line\"\n        }}><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}></span></span>{`\n`}<span parentName=\"code\" {...{\n          \"className\": \"vscode-highlight-line\"\n        }}><span parentName=\"span\" {...{\n            \"className\": \"mtk4\"\n          }}>{`class`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{` `}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk10\"\n          }}>{`MetalView`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{`: UIView {`}</span></span>{`\n`}<span parentName=\"code\" {...{\n          \"className\": \"vscode-highlight-line\"\n        }}><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{`    `}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk4\"\n          }}>{`override`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{` `}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk4\"\n          }}>{`class`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{` `}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk4\"\n          }}>{`var`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{` layerClass: `}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk10\"\n          }}>{`AnyClass`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{` {`}</span></span>{`\n`}<span parentName=\"code\" {...{\n          \"className\": \"vscode-highlight-line\"\n        }}><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{`        `}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk15\"\n          }}>{`return`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{` CustomCAMetalLayer.self`}</span></span>{`\n`}<span parentName=\"code\" {...{\n          \"className\": \"vscode-highlight-line\"\n        }}><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{`    }`}</span></span>{`\n`}<span parentName=\"code\" {...{\n          \"className\": \"vscode-highlight-line\"\n        }}><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{`}`}</span></span></code></pre>\n    <p>{`We set up our renderer in init, wait for a drawable to become available, and use our renderer to draw the triangle. The renderer code is more verbose since Metal requires quite a lot of code to set up a command queue, vertex buffers, etc, but you can view the code `}<a parentName=\"p\" {...{\n        \"href\": \"https://github.com/noahsark769/NGCAMetalLayerAnimationExample/blob/master/NGCAMetalLayerAnimationExample%20iOS/GameViewController.swift#L29\"\n      }}>{`here`}</a>{` if you like - it creates a buffer of three vertices for the points of the triangle, and the fragment shader shades them blue.`}</p>\n    <CaptionedImage max={400} filename=\"calayer-metal-2.png\" alt=\"Blue triangle displaying on the screen\" caption=\"Hello World\" mdxType=\"CaptionedImage\" />\n    <h2 {...{\n      \"id\": \"calayer-animations\"\n    }}>{`CALayer animations`}</h2>\n    <p>{`In order to implement our triangle's scale-up animation, we need to talk more about CoreAnimation.`}</p>\n    <p><a parentName=\"p\" {...{\n        \"href\": \"https://developer.apple.com/documentation/quartzcore\"\n      }}>{`CoreAnimation`}</a>{` is the framework that powers `}<inlineCode parentName=\"p\">{`CALayer`}</inlineCode>{` (used to implement `}<inlineCode parentName=\"p\">{`UIView`}</inlineCode>{`). Changes in a `}<inlineCode parentName=\"p\">{`CALayer`}</inlineCode>{` (like setting a new position or background color) are initiated by changing the layer's properties.`}</p>\n    <p>{`Many layer properties (you can see a list `}<a parentName=\"p\" {...{\n        \"href\": \"https://developer.apple.com/library/archive/documentation/Cocoa/Conceptual/CoreAnimation_guide/AnimatableProperties/AnimatableProperties.html#//apple_ref/doc/uid/TP40004514-CH11-SW4\"\n      }}>{`here`}</a>{`) are animatable, which means that when they're changed, CoreAnimation will interpolate between the old value and the new value to animate the change. If you've ever tried to change the background color of a `}<inlineCode parentName=\"p\">{`CALayer`}</inlineCode>{` directly (using `}<inlineCode parentName=\"p\">{`backgroundColor`}</inlineCode>{`), you might notice that the change isn't instant - there's a subtle fade. Animatable `}<inlineCode parentName=\"p\">{`CALayer`}</inlineCode>{` properties all have default, \"implicit\" animations.`}</p>\n    <blockquote>\n      <p parentName=\"blockquote\">{`Note: layers which back `}<inlineCode parentName=\"p\">{`UIView`}</inlineCode>{`s don't have these implicit animations by default since `}<inlineCode parentName=\"p\">{`UIView`}</inlineCode>{`s don't provide an action through their layer delgate method. More on this later.`}</p>\n    </blockquote>\n    <p>{`We'll add our `}<inlineCode parentName=\"p\">{`triangleScale`}</inlineCode>{` as a custom layer property - we want this property to animate between 1 and 2 to double the size of the triangle.`}</p>\n    <pre {...{\n      \"className\": \"dark-default-dark vscode-highlight\",\n      \"data-language\": \"swift\"\n    }}><code parentName=\"pre\" {...{\n        \"className\": \"vscode-highlight-code\"\n      }}><span parentName=\"code\" {...{\n          \"className\": \"vscode-highlight-line\"\n        }}><span parentName=\"span\" {...{\n            \"className\": \"mtk4\"\n          }}>{`class`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{` `}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk10\"\n          }}>{`CustomCAMetalLayer`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{`: CAMetalLayer {`}</span></span>{`\n`}<span parentName=\"code\" {...{\n          \"className\": \"vscode-highlight-line\"\n        }}><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{`    `}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk3\"\n          }}>{`// ...`}</span></span>{`\n`}<span parentName=\"code\" {...{\n          \"className\": \"vscode-highlight-line\"\n        }}><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{`    `}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk4\"\n          }}>{`var`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{` triangleScale: CGFloat`}</span></span>{`\n`}<span parentName=\"code\" {...{\n          \"className\": \"vscode-highlight-line\"\n        }}><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}></span></span>{`\n`}<span parentName=\"code\" {...{\n          \"className\": \"vscode-highlight-line\"\n        }}><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{`    `}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk4\"\n          }}>{`override`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{` `}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk4\"\n          }}>{`init`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{`() {`}</span></span>{`\n`}<span parentName=\"code\" {...{\n          \"className\": \"vscode-highlight-line\"\n        }}><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{`        `}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk4\"\n          }}>{`self`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{`.`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk12\"\n          }}>{`triangleScale`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{` = `}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk7\"\n          }}>{`1`}</span></span>{`\n`}<span parentName=\"code\" {...{\n          \"className\": \"vscode-highlight-line\"\n        }}><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{`        `}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk3\"\n          }}>{`// ...`}</span></span>{`\n`}<span parentName=\"code\" {...{\n          \"className\": \"vscode-highlight-line\"\n        }}><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{`    }`}</span></span>{`\n`}<span parentName=\"code\" {...{\n          \"className\": \"vscode-highlight-line\"\n        }}><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}></span></span>{`\n`}<span parentName=\"code\" {...{\n          \"className\": \"vscode-highlight-line\"\n        }}><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{`    `}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk4\"\n          }}>{`override`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{` `}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk4\"\n          }}>{`func`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{` `}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk11\"\n          }}>{`display`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{`() {`}</span></span>{`\n`}<span parentName=\"code\" {...{\n          \"className\": \"vscode-highlight-line\"\n        }}><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{`        `}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk4\"\n          }}>{`self`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{`.`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk12\"\n          }}>{`renderer`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{`.`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk12\"\n          }}>{`triangleScale`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{` = `}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk10\"\n          }}>{`Float`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{`(triangleScale)`}</span></span>{`\n`}<span parentName=\"code\" {...{\n          \"className\": \"vscode-highlight-line\"\n        }}><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{`        `}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk3\"\n          }}>{`// ...`}</span></span>{`\n`}<span parentName=\"code\" {...{\n          \"className\": \"vscode-highlight-line\"\n        }}><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{`    }`}</span></span>{`\n`}<span parentName=\"code\" {...{\n          \"className\": \"vscode-highlight-line\"\n        }}><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{`}`}</span></span></code></pre>\n    <p>{`Our button callback sets the new value:`}</p>\n    <pre {...{\n      \"className\": \"dark-default-dark vscode-highlight\",\n      \"data-language\": \"swift\"\n    }}><code parentName=\"pre\" {...{\n        \"className\": \"vscode-highlight-code\"\n      }}><span parentName=\"code\" {...{\n          \"className\": \"vscode-highlight-line\"\n        }}><span parentName=\"span\" {...{\n            \"className\": \"mtk4\"\n          }}>{`@objc`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{` `}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk4\"\n          }}>{`private`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{` `}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk4\"\n          }}>{`func`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{` `}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk11\"\n          }}>{`didTapButton`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{`() {`}</span></span>{`\n`}<span parentName=\"code\" {...{\n          \"className\": \"vscode-highlight-line\"\n        }}><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{`    layer.`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk12\"\n          }}>{`triangleScale`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{` = `}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk7\"\n          }}>{`2`}</span></span>{`\n`}<span parentName=\"code\" {...{\n          \"className\": \"vscode-highlight-line\"\n        }}><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{`}`}</span></span></code></pre>\n    <p>{`And when we run the app and click the button, we get...`}</p>\n    <CaptionedImage max={400} filename=\"calayer-metal-3.gif\" alt=\"Blue triangle displaying with cursor clicking button, but nothing happens with the triangle after button click\" caption=\"\" mdxType=\"CaptionedImage\" />\n    <p>{`...nothing!`}</p>\n    <h2 {...{\n      \"id\": \"customizing-layer-animations\"\n    }}>{`Customizing layer animations`}</h2>\n    <p>{`Turns out, custom CALayer properties don't come completely for free. I haven't been able to find an official Apple reference on this, but there are several articles online about how to implement them - I'd recommend `}<a parentName=\"p\" {...{\n        \"href\": \"https://www.objc.io/issues/12-animations/animating-custom-layer-properties/\"\n      }}>{`this objc.io article`}</a>{` and `}<a parentName=\"p\" {...{\n        \"href\": \"https://vimeo.com/44986916\"\n      }}>{`this talk from Rob Napier`}</a>{`, but I'll try to summarize here.`}</p>\n    <p>{`In order for CoreAnimation to manage our custom layer properties, they have to be Objc `}<inlineCode parentName=\"p\">{`@dynamic`}</inlineCode>{` properties. Declaring an `}<inlineCode parentName=\"p\">{`@dynamic`}</inlineCode>{` property in Objc tells the compiler that the property implementation will be managed dynamically - in this case, since we're a subclass of `}<inlineCode parentName=\"p\">{`CALayer`}</inlineCode>{`, CoreAnimation will manage this property for us, and we don't have to declare getters or setters, or handle initializing the property. (Learn more about `}<inlineCode parentName=\"p\">{`@dynamic`}</inlineCode>{` in the `}<a parentName=\"p\" {...{\n        \"href\": \"https://developer.apple.com/library/archive/documentation/Cocoa/Conceptual/ObjectiveC/Chapters/ocProperties.html#//apple_ref/doc/uid/TP30001163-CH17-SW2\"\n      }}>{`Objective-C reference`}</a>{`.)`}</p>\n    <p>{`The dynamic nature of how CALayer handles property animations is why we need to use a `}<inlineCode parentName=\"p\">{`CAMetalLayer`}</inlineCode>{` instead of an `}<inlineCode parentName=\"p\">{`MTKView`}</inlineCode>{` - if we were to declare these properties on a view subclass instead of a layer subclass, they wouldn't be automatically handled in the same way.`}</p>\n    <p>{`There's another wrinkle though - Swift doesn't support managing dynamic properties in the same way. There's a `}<inlineCode parentName=\"p\">{`dynamic`}</inlineCode>{` keyword in Swift, but that specifies that `}<a parentName=\"p\" {...{\n        \"href\": \"https://swiftunboxed.com/interop/objc-dynamic/\"\n      }}>{`function calls should use Objc-style dynamic method dispatch`}</a>{`, not that property implementations should be managed dynamically.`}</p>\n    <p><inlineCode parentName=\"p\">{`@dynamic`}</inlineCode>{` is a mechanism in Objc that just doesn't exist in Swift. Luckily, there's a way to get around it - `}<inlineCode parentName=\"p\">{`@NSManaged`}</inlineCode>{`.`}</p>\n    <h2 {...{\n      \"id\": \"dynamic-properties-in-swift\"\n    }}>{`Dynamic properties in Swift`}</h2>\n    <p>{`The `}<inlineCode parentName=\"p\">{`@NSManaged`}</inlineCode>{` property modifier is used for Core Data, but its effect is the same as Objc's `}<inlineCode parentName=\"p\">{`@dynamic`}</inlineCode>{` - it defers implementation of the property getters and setters. If we declare our layer property as `}<inlineCode parentName=\"p\">{`@NSManaged`}</inlineCode>{`, `}<inlineCode parentName=\"p\">{`CALayer`}</inlineCode>{` will be able to manage its getters and setters! Our new code looks like:`}</p>\n    <pre {...{\n      \"className\": \"dark-default-dark vscode-highlight\",\n      \"data-language\": \"swift\"\n    }}><code parentName=\"pre\" {...{\n        \"className\": \"vscode-highlight-code\"\n      }}><span parentName=\"code\" {...{\n          \"className\": \"vscode-highlight-line\"\n        }}><span parentName=\"span\" {...{\n            \"className\": \"mtk4\"\n          }}>{`class`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{` `}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk10\"\n          }}>{`CustomCAMetalLayer`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{`: CAMetalLayer {`}</span></span>{`\n`}<span parentName=\"code\" {...{\n          \"className\": \"vscode-highlight-line\"\n        }}><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{`    `}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk3\"\n          }}>{`// ...`}</span></span>{`\n`}<span parentName=\"code\" {...{\n          \"className\": \"vscode-highlight-line\"\n        }}><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{`    `}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk4\"\n          }}>{`@NSManaged`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{` `}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk4\"\n          }}>{`var`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{` triangleScale: CGFloat`}</span></span>{`\n`}<span parentName=\"code\" {...{\n          \"className\": \"vscode-highlight-line\"\n        }}><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}></span></span>{`\n`}<span parentName=\"code\" {...{\n          \"className\": \"vscode-highlight-line\"\n        }}><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{`    `}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk4\"\n          }}>{`override`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{` `}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk4\"\n          }}>{`init`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{`() {`}</span></span>{`\n`}<span parentName=\"code\" {...{\n          \"className\": \"vscode-highlight-line\"\n        }}><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{`        `}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk3\"\n          }}>{`// ...`}</span></span>{`\n`}<span parentName=\"code\" {...{\n          \"className\": \"vscode-highlight-line\"\n        }}><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{`        `}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk4\"\n          }}>{`self`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{`.`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk12\"\n          }}>{`triangleScale`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{` = `}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk7\"\n          }}>{`1`}</span></span>{`\n`}<span parentName=\"code\" {...{\n          \"className\": \"vscode-highlight-line\"\n        }}><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{`    }`}</span></span>{`\n`}<span parentName=\"code\" {...{\n          \"className\": \"vscode-highlight-line\"\n        }}><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}></span></span>{`\n`}<span parentName=\"code\" {...{\n          \"className\": \"vscode-highlight-line\"\n        }}><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{`    `}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk4\"\n          }}>{`override`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{` `}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk4\"\n          }}>{`func`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{` `}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk11\"\n          }}>{`display`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{`() {`}</span></span>{`\n`}<span parentName=\"code\" {...{\n          \"className\": \"vscode-highlight-line\"\n        }}><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{`        `}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk4\"\n          }}>{`self`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{`.`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk12\"\n          }}>{`renderer`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{`.`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk12\"\n          }}>{`triangleScale`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{` = `}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk10\"\n          }}>{`Float`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{`(triangleScale)`}</span></span>{`\n`}<span parentName=\"code\" {...{\n          \"className\": \"vscode-highlight-line\"\n        }}><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{`        `}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk3\"\n          }}>{`// ...`}</span></span>{`\n`}<span parentName=\"code\" {...{\n          \"className\": \"vscode-highlight-line\"\n        }}><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{`    }`}</span></span>{`\n`}<span parentName=\"code\" {...{\n          \"className\": \"vscode-highlight-line\"\n        }}><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{`}`}</span></span></code></pre>\n    <p>{`Now that we've declared our property dynamically, the last step is to tell CoreAnimation that we want the layer to be redisplayed when the property changes. We do this by overriding `}<inlineCode parentName=\"p\">{`needsDisplay(forKey:)`}</inlineCode>{`.`}</p>\n    <pre {...{\n      \"className\": \"dark-default-dark vscode-highlight\",\n      \"data-language\": \"swift\"\n    }}><code parentName=\"pre\" {...{\n        \"className\": \"vscode-highlight-code\"\n      }}><span parentName=\"code\" {...{\n          \"className\": \"vscode-highlight-line\"\n        }}><span parentName=\"span\" {...{\n            \"className\": \"mtk4\"\n          }}>{`override`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{` `}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk4\"\n          }}>{`class`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{` `}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk4\"\n          }}>{`func`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{` `}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk11\"\n          }}>{`needsDisplay`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{`(`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk11\"\n          }}>{`forKey`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{` `}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk12\"\n          }}>{`key`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{`: `}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk10\"\n          }}>{`String`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{`) -> `}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk10\"\n          }}>{`Bool`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{` {`}</span></span>{`\n`}<span parentName=\"code\" {...{\n          \"className\": \"vscode-highlight-line\"\n        }}><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{`    `}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk15\"\n          }}>{`if`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{` key == `}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk8\"\n          }}>{`\"triangleScale\"`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{` {`}</span></span>{`\n`}<span parentName=\"code\" {...{\n          \"className\": \"vscode-highlight-line\"\n        }}><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{`        `}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk15\"\n          }}>{`return`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{` `}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk4\"\n          }}>{`true`}</span></span>{`\n`}<span parentName=\"code\" {...{\n          \"className\": \"vscode-highlight-line\"\n        }}><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{`    }`}</span></span>{`\n`}<span parentName=\"code\" {...{\n          \"className\": \"vscode-highlight-line\"\n        }}><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{`    `}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk15\"\n          }}>{`return`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{` `}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk4\"\n          }}>{`super`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{`.`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk11\"\n          }}>{`needsDisplay`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{`(`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk11\"\n          }}>{`forKey`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{`: key)`}</span></span>{`\n`}<span parentName=\"code\" {...{\n          \"className\": \"vscode-highlight-line\"\n        }}><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{`}`}</span></span></code></pre>\n    <p>{`We have a triangle that changes scale! The only thing left is to actually implement the animation.`}</p>\n    <CaptionedImage max={400} filename=\"calayer-metal-4.gif\" alt=\"Blue triangle changing scale (not animated) when the button is clicked.\" caption=\"\" mdxType=\"CaptionedImage\" />\n    <h2 {...{\n      \"id\": \"using-presentation-layers\"\n    }}>{`Using presentation layers`}</h2>\n    <p>{`In CoreAnimation, each layer is actually composed of a \"model\" layer, which represents the current set of non-interpolated properties, and a \"presentation\" layer, which represents the layer's current state as it appears on screen. Copies of the model and presentation layers are accessible through `}<inlineCode parentName=\"p\">{`CALayer`}</inlineCode>{`'s `}<inlineCode parentName=\"p\">{`model()`}</inlineCode>{` and `}<inlineCode parentName=\"p\">{`presentation()`}</inlineCode>{` methods.`}</p>\n    <p>{`As an example: let's say we added an animation for our triangleScale, to take its value from 1 to 2.`}</p>\n    <p>{`The first thing we have to do is make sure our `}<inlineCode parentName=\"p\">{`CALayer`}</inlineCode>{` subclass knows how to be instantiated as a presentation copy - CoreAnimation will call `}<inlineCode parentName=\"p\">{`init(layer:)`}</inlineCode>{` for this.`}</p>\n    <pre {...{\n      \"className\": \"dark-default-dark vscode-highlight\",\n      \"data-language\": \"swift\"\n    }}><code parentName=\"pre\" {...{\n        \"className\": \"vscode-highlight-code\"\n      }}><span parentName=\"code\" {...{\n          \"className\": \"vscode-highlight-line\"\n        }}><span parentName=\"span\" {...{\n            \"className\": \"mtk4\"\n          }}>{`override`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{` `}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk4\"\n          }}>{`init`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{`(`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk11\"\n          }}>{`layer`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{`: `}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk10\"\n          }}>{`Any`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{`) {`}</span></span>{`\n`}<span parentName=\"code\" {...{\n          \"className\": \"vscode-highlight-line\"\n        }}><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{`    `}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk4\"\n          }}>{`super`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{`.`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk4\"\n          }}>{`init`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{`(`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk11\"\n          }}>{`layer`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{`: layer)`}</span></span>{`\n`}<span parentName=\"code\" {...{\n          \"className\": \"vscode-highlight-line\"\n        }}><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{`    `}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk15\"\n          }}>{`guard`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{` `}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk4\"\n          }}>{`let`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{` layer = layer as? CustomCAMetalLayer `}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk15\"\n          }}>{`else`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{` {`}</span></span>{`\n`}<span parentName=\"code\" {...{\n          \"className\": \"vscode-highlight-line\"\n        }}><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{`        `}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk15\"\n          }}>{`return`}</span></span>{`\n`}<span parentName=\"code\" {...{\n          \"className\": \"vscode-highlight-line\"\n        }}><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{`    }`}</span></span>{`\n`}<span parentName=\"code\" {...{\n          \"className\": \"vscode-highlight-line\"\n        }}><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{`    `}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk4\"\n          }}>{`self`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{`.`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk12\"\n          }}>{`renderer`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{` = layer.`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk12\"\n          }}>{`renderer`}</span></span>{`\n`}<span parentName=\"code\" {...{\n          \"className\": \"vscode-highlight-line\"\n        }}><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{`}`}</span></span></code></pre>\n    <p>{`Then we add an explicit animation:`}</p>\n    <pre {...{\n      \"className\": \"dark-default-dark vscode-highlight\",\n      \"data-language\": \"swift\"\n    }}><code parentName=\"pre\" {...{\n        \"className\": \"vscode-highlight-code\"\n      }}><span parentName=\"code\" {...{\n          \"className\": \"vscode-highlight-line\"\n        }}><span parentName=\"span\" {...{\n            \"className\": \"mtk4\"\n          }}>{`let`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{` animation = `}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk11\"\n          }}>{`CABasicAnimation`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{`()`}</span></span>{`\n`}<span parentName=\"code\" {...{\n          \"className\": \"vscode-highlight-line\"\n        }}><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{`animation.`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk12\"\n          }}>{`keyPath`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{` = `}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk8\"\n          }}>{`\"triangleScale\"`}</span></span>{`\n`}<span parentName=\"code\" {...{\n          \"className\": \"vscode-highlight-line\"\n        }}><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{`animation.`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk12\"\n          }}>{`fromValue`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{` = `}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk7\"\n          }}>{`1`}</span></span>{`\n`}<span parentName=\"code\" {...{\n          \"className\": \"vscode-highlight-line\"\n        }}><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{`animation.`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk12\"\n          }}>{`toValue`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{` = `}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk7\"\n          }}>{`2`}</span></span>{`\n`}<span parentName=\"code\" {...{\n          \"className\": \"vscode-highlight-line\"\n        }}><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{`animation.`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk12\"\n          }}>{`duration`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{` = `}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk7\"\n          }}>{`0.25`}</span></span>{`\n`}<span parentName=\"code\" {...{\n          \"className\": \"vscode-highlight-line\"\n        }}><span parentName=\"span\" {...{\n            \"className\": \"mtk4\"\n          }}>{`self`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{`.`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk12\"\n          }}>{`metalView`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{`.`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk12\"\n          }}>{`layer`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{`.`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk11\"\n          }}>{`add`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{`(animation, `}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk11\"\n          }}>{`forKey`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{`: `}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk8\"\n          }}>{`\"some-key\"`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{`)`}</span></span></code></pre>\n    <p>{`And a print in our layer's `}<inlineCode parentName=\"p\">{`display()`}</inlineCode>{`:`}</p>\n    <pre {...{\n      \"className\": \"dark-default-dark vscode-highlight\",\n      \"data-language\": \"swift\"\n    }}><code parentName=\"pre\" {...{\n        \"className\": \"vscode-highlight-code\"\n      }}><span parentName=\"code\" {...{\n          \"className\": \"vscode-highlight-line\"\n        }}><span parentName=\"span\" {...{\n            \"className\": \"mtk4\"\n          }}>{`let`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{` modelScale = `}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk4\"\n          }}>{`self`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{`.`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk11\"\n          }}>{`model`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{`().`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk12\"\n          }}>{`triangleScale`}</span></span>{`\n`}<span parentName=\"code\" {...{\n          \"className\": \"vscode-highlight-line\"\n        }}><span parentName=\"span\" {...{\n            \"className\": \"mtk15\"\n          }}>{`guard`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{` `}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk4\"\n          }}>{`let`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{` presentationScale = `}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk4\"\n          }}>{`self`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{`.`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk11\"\n          }}>{`presentation`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{`()?.`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk12\"\n          }}>{`triangleScale`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{` `}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk15\"\n          }}>{`else`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{` {`}</span></span>{`\n`}<span parentName=\"code\" {...{\n          \"className\": \"vscode-highlight-line\"\n        }}><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{`    `}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk15\"\n          }}>{`return`}</span></span>{`\n`}<span parentName=\"code\" {...{\n          \"className\": \"vscode-highlight-line\"\n        }}><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{`}`}</span></span>{`\n`}<span parentName=\"code\" {...{\n          \"className\": \"vscode-highlight-line\"\n        }}><span parentName=\"span\" {...{\n            \"className\": \"mtk11\"\n          }}>{`print`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{`(`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk8\"\n          }}>{`\"model: `}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk4\"\n          }}>{`\\\\(`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{`modelScale`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk4\"\n          }}>{`)`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk8\"\n          }}>{`, presentation: `}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk4\"\n          }}>{`\\\\(`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{`presentationScale`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk4\"\n          }}>{`)`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk8\"\n          }}>{`\"`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{`)`}</span></span></code></pre>\n    <p>{`We'll get the following output:`}</p>\n    <pre {...{\n      \"className\": \"dark-default-dark vscode-highlight\",\n      \"data-language\": \"\"\n    }}><code parentName=\"pre\" {...{\n        \"className\": \"vscode-highlight-code\"\n      }}><span parentName=\"code\" {...{\n          \"className\": \"vscode-highlight-line\"\n        }}>{`model: 1.0, presentation: 1.0053806598298252`}</span>{`\n`}<span parentName=\"code\" {...{\n          \"className\": \"vscode-highlight-line\"\n        }}>{`model: 1.0, presentation: 1.1318122893571854`}</span>{`\n`}<span parentName=\"code\" {...{\n          \"className\": \"vscode-highlight-line\"\n        }}>{`model: 1.0, presentation: 1.2192756980657578`}</span>{`\n`}<span parentName=\"code\" {...{\n          \"className\": \"vscode-highlight-line\"\n        }}>{`model: 1.0, presentation: 1.2894128262996674`}</span>{`\n`}<span parentName=\"code\" {...{\n          \"className\": \"vscode-highlight-line\"\n        }}>{`model: 1.0, presentation: 1.363368809223175`}</span>{`\n`}<span parentName=\"code\" {...{\n          \"className\": \"vscode-highlight-line\"\n        }}>{`model: 1.0, presentation: 1.4336175322532654`}</span>{`\n`}<span parentName=\"code\" {...{\n          \"className\": \"vscode-highlight-line\"\n        }}>{`model: 1.0, presentation: 1.5070415139198303`}</span>{`\n`}<span parentName=\"code\" {...{\n          \"className\": \"vscode-highlight-line\"\n        }}>{`model: 1.0, presentation: 1.577137529850006`}</span>{`\n`}<span parentName=\"code\" {...{\n          \"className\": \"vscode-highlight-line\"\n        }}>{`model: 1.0, presentation: 1.649360716342926`}</span>{`\n`}<span parentName=\"code\" {...{\n          \"className\": \"vscode-highlight-line\"\n        }}>{`model: 1.0, presentation: 1.7197566032409668`}</span>{`\n`}<span parentName=\"code\" {...{\n          \"className\": \"vscode-highlight-line\"\n        }}>{`model: 1.0, presentation: 1.7918232679367065`}</span>{`\n`}<span parentName=\"code\" {...{\n          \"className\": \"vscode-highlight-line\"\n        }}>{`model: 1.0, presentation: 1.8647624254226685`}</span>{`\n`}<span parentName=\"code\" {...{\n          \"className\": \"vscode-highlight-line\"\n        }}>{`model: 1.0, presentation: 1.9373475313186646`}</span>{`\n`}<span parentName=\"code\" {...{\n          \"className\": \"vscode-highlight-line\"\n        }}>{`model: 1.0, presentation: 1.0`}</span>{`\n`}<span parentName=\"code\" {...{\n          \"className\": \"vscode-highlight-line\"\n        }}>{`model: 1.0, presentation: 1.0`}</span></code></pre>\n    <p>{`The model layer never changes, and the presentation layer's `}<inlineCode parentName=\"p\">{`triangleScale`}</inlineCode>{` is automatically interpolated from 1 to 2 - but changes back to 1 after the animation ends, since CoreAnimation starts using the model value again when the animation ends. Before we see the triangle growing, we'll have to fix this interpolation issue.`}</p>\n    <h2 {...{\n      \"id\": \"custom-animatable-properties\"\n    }}>{`Custom animatable properties`}</h2>\n    <p>{`I noted before that with CoreAnimation, animatable layer properties have default animations that apply when you change the property. We can define our own animation by returning a value from the `}<inlineCode parentName=\"p\">{`action(forKey:)`}</inlineCode>{` class method:`}</p>\n    <pre {...{\n      \"className\": \"dark-default-dark vscode-highlight\",\n      \"data-language\": \"swift\"\n    }}><code parentName=\"pre\" {...{\n        \"className\": \"vscode-highlight-code\"\n      }}><span parentName=\"code\" {...{\n          \"className\": \"vscode-highlight-line\"\n        }}><span parentName=\"span\" {...{\n            \"className\": \"mtk4\"\n          }}>{`override`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{` `}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk4\"\n          }}>{`func`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{` `}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk11\"\n          }}>{`action`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{`(`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk11\"\n          }}>{`forKey`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{` `}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk12\"\n          }}>{`key`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{`: `}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk10\"\n          }}>{`String`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{`) -> CAAction? {`}</span></span>{`\n`}<span parentName=\"code\" {...{\n          \"className\": \"vscode-highlight-line\"\n        }}><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{`    `}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk15\"\n          }}>{`if`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{` key == `}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk8\"\n          }}>{`\"triangleScale\"`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{` {`}</span></span>{`\n`}<span parentName=\"code\" {...{\n          \"className\": \"vscode-highlight-line\"\n        }}><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{`        `}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk4\"\n          }}>{`let`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{` animation = `}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk11\"\n          }}>{`CABasicAnimation`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{`(`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk11\"\n          }}>{`keyPath`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{`: key)`}</span></span>{`\n`}<span parentName=\"code\" {...{\n          \"className\": \"vscode-highlight-line\"\n        }}><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{`        animation.`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk12\"\n          }}>{`fromValue`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{` = `}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk4\"\n          }}>{`self`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{`.`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk11\"\n          }}>{`presentation`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{`()?.`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk12\"\n          }}>{`triangleScale`}</span></span>{`\n`}<span parentName=\"code\" {...{\n          \"className\": \"vscode-highlight-line\"\n        }}><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{`        `}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk15\"\n          }}>{`return`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{` animation`}</span></span>{`\n`}<span parentName=\"code\" {...{\n          \"className\": \"vscode-highlight-line\"\n        }}><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{`    }`}</span></span>{`\n`}<span parentName=\"code\" {...{\n          \"className\": \"vscode-highlight-line\"\n        }}><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{`    `}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk15\"\n          }}>{`return`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{` `}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk4\"\n          }}>{`super`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{`.`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk11\"\n          }}>{`action`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{`(`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk11\"\n          }}>{`forKey`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{`: key)`}</span></span>{`\n`}<span parentName=\"code\" {...{\n          \"className\": \"vscode-highlight-line\"\n        }}><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{`}       `}</span></span></code></pre>\n    <blockquote>\n      <p parentName=\"blockquote\">{`Note: specifying the fromValue here is important, but other animation properties (duration, timing function, etc) will be inherited from the current `}<a parentName=\"p\" {...{\n          \"href\": \"https://developer.apple.com/documentation/quartzcore/catransaction\"\n        }}><inlineCode parentName=\"a\">{`CATransaction`}</inlineCode></a>{`.`}</p>\n    </blockquote>\n    <p>{`If we specify an action, we don't need to define an animation anymore - CoreAnimation will automatically add the animation we defined when the layer's property changes. Adding the animation is now:`}</p>\n    <pre {...{\n      \"className\": \"dark-default-dark vscode-highlight\",\n      \"data-language\": \"swift\"\n    }}><code parentName=\"pre\" {...{\n        \"className\": \"vscode-highlight-code\"\n      }}><span parentName=\"code\" {...{\n          \"className\": \"vscode-highlight-line\"\n        }}><span parentName=\"span\" {...{\n            \"className\": \"mtk15\"\n          }}>{`guard`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{` `}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk4\"\n          }}>{`let`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{` layer = `}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk4\"\n          }}>{`self`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{`.`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk12\"\n          }}>{`metalView`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{`.`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk12\"\n          }}>{`layer`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{` as? CustomCAMetalLayer `}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk15\"\n          }}>{`else`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{` {`}</span></span>{`\n`}<span parentName=\"code\" {...{\n          \"className\": \"vscode-highlight-line\"\n        }}><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{`    `}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk15\"\n          }}>{`return`}</span></span>{`\n`}<span parentName=\"code\" {...{\n          \"className\": \"vscode-highlight-line\"\n        }}><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{`}`}</span></span>{`\n`}<span parentName=\"code\" {...{\n          \"className\": \"vscode-highlight-line\"\n        }}><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{`layer.`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk12\"\n          }}>{`triangleScale`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{` = `}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk7\"\n          }}>{`2`}</span></span></code></pre>\n    <p>{`Our model layer stays at 2 while the presentation layer's value is interpolated all the way there.`}</p>\n    <pre {...{\n      \"className\": \"dark-default-dark vscode-highlight\",\n      \"data-language\": \"\"\n    }}><code parentName=\"pre\" {...{\n        \"className\": \"vscode-highlight-code\"\n      }}><span parentName=\"code\" {...{\n          \"className\": \"vscode-highlight-line\"\n        }}>{`model: 2.0, presentation: 1.0`}</span>{`\n`}<span parentName=\"code\" {...{\n          \"className\": \"vscode-highlight-line\"\n        }}>{`model: 2.0, presentation: 1.0715526789426804`}</span>{`\n`}<span parentName=\"code\" {...{\n          \"className\": \"vscode-highlight-line\"\n        }}>{`model: 2.0, presentation: 1.1949102729558945`}</span>{`\n`}<span parentName=\"code\" {...{\n          \"className\": \"vscode-highlight-line\"\n        }}>{`model: 2.0, presentation: 1.27173313498497`}</span>{`\n`}<span parentName=\"code\" {...{\n          \"className\": \"vscode-highlight-line\"\n        }}>{`model: 2.0, presentation: 1.3447068929672241`}</span>{`\n`}<span parentName=\"code\" {...{\n          \"className\": \"vscode-highlight-line\"\n        }}>{`model: 2.0, presentation: 1.4154288470745087`}</span>{`\n`}<span parentName=\"code\" {...{\n          \"className\": \"vscode-highlight-line\"\n        }}>{`model: 2.0, presentation: 1.4875067472457886`}</span>{`\n`}<span parentName=\"code\" {...{\n          \"className\": \"vscode-highlight-line\"\n        }}>{`model: 2.0, presentation: 1.5570306777954102`}</span>{`\n`}<span parentName=\"code\" {...{\n          \"className\": \"vscode-highlight-line\"\n        }}>{`model: 2.0, presentation: 1.628233015537262`}</span>{`\n`}<span parentName=\"code\" {...{\n          \"className\": \"vscode-highlight-line\"\n        }}>{`model: 2.0, presentation: 1.7017306685447693`}</span>{`\n`}<span parentName=\"code\" {...{\n          \"className\": \"vscode-highlight-line\"\n        }}>{`model: 2.0, presentation: 1.771639108657837`}</span>{`\n`}<span parentName=\"code\" {...{\n          \"className\": \"vscode-highlight-line\"\n        }}>{`model: 2.0, presentation: 1.8431110382080078`}</span>{`\n`}<span parentName=\"code\" {...{\n          \"className\": \"vscode-highlight-line\"\n        }}>{`model: 2.0, presentation: 1.9160330295562744`}</span>{`\n`}<span parentName=\"code\" {...{\n          \"className\": \"vscode-highlight-line\"\n        }}>{`model: 2.0, presentation: 1.9892664551734924`}</span>{`\n`}<span parentName=\"code\" {...{\n          \"className\": \"vscode-highlight-line\"\n        }}>{`model: 2.0, presentation: 2.0`}</span></code></pre>\n    <h2 {...{\n      \"id\": \"the-last-step\"\n    }}>{`The last step`}</h2>\n    <p>{`We've got our presentation layer set up to interpolate the triangle's scale, so the last step is to pass it to the renderer. We'll change our layer's display function to use the presentation value:`}</p>\n    <pre {...{\n      \"className\": \"dark-default-dark vscode-highlight\",\n      \"data-language\": \"swift\"\n    }}><code parentName=\"pre\" {...{\n        \"className\": \"vscode-highlight-code\"\n      }}><span parentName=\"code\" {...{\n          \"className\": \"vscode-highlight-line\"\n        }}><span parentName=\"span\" {...{\n            \"className\": \"mtk4\"\n          }}>{`override`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{` `}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk4\"\n          }}>{`func`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{` `}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk11\"\n          }}>{`display`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{`() {`}</span></span>{`\n`}<span parentName=\"code\" {...{\n          \"className\": \"vscode-highlight-line\"\n        }}><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{`    `}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk15\"\n          }}>{`guard`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{` `}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk4\"\n          }}>{`let`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{` effectiveScale = `}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk4\"\n          }}>{`self`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{`.`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk11\"\n          }}>{`presentation`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{`()?.`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk12\"\n          }}>{`triangleScale`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{` `}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk15\"\n          }}>{`else`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{` {`}</span></span>{`\n`}<span parentName=\"code\" {...{\n          \"className\": \"vscode-highlight-line\"\n        }}><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{`        `}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk15\"\n          }}>{`return`}</span></span>{`\n`}<span parentName=\"code\" {...{\n          \"className\": \"vscode-highlight-line\"\n        }}><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{`    }`}</span></span>{`\n`}<span parentName=\"code\" {...{\n          \"className\": \"vscode-highlight-line\"\n        }}><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{`    `}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk4\"\n          }}>{`self`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{`.`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk12\"\n          }}>{`renderer`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{`.`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk12\"\n          }}>{`triangleScale`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{` = `}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk10\"\n          }}>{`Float`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{`(effectiveScale)`}</span></span>{`\n`}<span parentName=\"code\" {...{\n          \"className\": \"vscode-highlight-line\"\n        }}><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{`    `}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk4\"\n          }}>{`let`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{` drawable = `}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk4\"\n          }}>{`self`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{`.`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk11\"\n          }}>{`blockRequestingNextDrawable`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{`()`}</span></span>{`\n`}<span parentName=\"code\" {...{\n          \"className\": \"vscode-highlight-line\"\n        }}><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{`    `}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk4\"\n          }}>{`self`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{`.`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk12\"\n          }}>{`renderer`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{`.`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk11\"\n          }}>{`draw`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{`(`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk11\"\n          }}>{`drawable`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{`: drawable)`}</span></span>{`\n`}<span parentName=\"code\" {...{\n          \"className\": \"vscode-highlight-line\"\n        }}><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{`}`}</span></span></code></pre>\n    <p>{`Specify a few parameters for the animation:`}</p>\n    <pre {...{\n      \"className\": \"dark-default-dark vscode-highlight\",\n      \"data-language\": \"swift\"\n    }}><code parentName=\"pre\" {...{\n        \"className\": \"vscode-highlight-code\"\n      }}><span parentName=\"code\" {...{\n          \"className\": \"vscode-highlight-line\"\n        }}><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{`CATransaction.`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk11\"\n          }}>{`begin`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{`()`}</span></span>{`\n`}<span parentName=\"code\" {...{\n          \"className\": \"vscode-highlight-line\"\n        }}><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{`    CATransaction.`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk11\"\n          }}>{`setAnimationDuration`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{`(`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk7\"\n          }}>{`2`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{`)`}</span></span>{`\n`}<span parentName=\"code\" {...{\n          \"className\": \"vscode-highlight-line\"\n        }}><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{`    CATransaction.`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk11\"\n          }}>{`setAnimationTimingFunction`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{`(.`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk4\"\n          }}>{`init`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{`(`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk11\"\n          }}>{`name`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{`: .`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk12\"\n          }}>{`easeInEaseOut`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{`))`}</span></span>{`\n`}<span parentName=\"code\" {...{\n          \"className\": \"vscode-highlight-line\"\n        }}><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{`    layer.`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk12\"\n          }}>{`triangleScale`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{` = `}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk7\"\n          }}>{`2`}</span></span>{`\n`}<span parentName=\"code\" {...{\n          \"className\": \"vscode-highlight-line\"\n        }}><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{`CATransaction.`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk11\"\n          }}>{`commit`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{`()`}</span></span></code></pre>\n    <p>{`And tada! ðŸŽ‰`}</p>\n    <CaptionedImage max={400} filename=\"calayer-metal-1.gif\" alt=\"Blue triangle animating from 1x to 2x scale when the button is clicked\" caption=\"\" mdxType=\"CaptionedImage\" />\n    <h2 {...{\n      \"id\": \"more-complicated-animations\"\n    }}>{`More complicated animations`}</h2>\n    <p>{`Using CALayer properties to implement our animations means that we can hook into the entire CoreAnimation ecosystem - our `}<inlineCode parentName=\"p\">{`triangleScale`}</inlineCode>{` is now every bit as animatable as every other `}<inlineCode parentName=\"p\">{`CALayer`}</inlineCode>{` property. One benefit is that we get keyframe animations with no extra work! Let's make the triangle jump around a bit:`}</p>\n    <pre {...{\n      \"className\": \"dark-default-dark vscode-highlight\",\n      \"data-language\": \"swift\"\n    }}><code parentName=\"pre\" {...{\n        \"className\": \"vscode-highlight-code\"\n      }}><span parentName=\"code\" {...{\n          \"className\": \"vscode-highlight-line\"\n        }}><span parentName=\"span\" {...{\n            \"className\": \"mtk4\"\n          }}>{`let`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{` layer = `}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk4\"\n          }}>{`self`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{`.`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk12\"\n          }}>{`metalView`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{`.`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk12\"\n          }}>{`layer`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{` as! CustomCAMetalLayer`}</span></span>{`\n`}<span parentName=\"code\" {...{\n          \"className\": \"vscode-highlight-line\"\n        }}><span parentName=\"span\" {...{\n            \"className\": \"mtk4\"\n          }}>{`let`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{` animation = `}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk11\"\n          }}>{`CAKeyframeAnimation`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{`()`}</span></span>{`\n`}<span parentName=\"code\" {...{\n          \"className\": \"vscode-highlight-line\"\n        }}><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{`animation.`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk12\"\n          }}>{`keyPath`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{` = `}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk8\"\n          }}>{`\"triangleScale\"`}</span></span>{`\n`}<span parentName=\"code\" {...{\n          \"className\": \"vscode-highlight-line\"\n        }}><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{`animation.`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk12\"\n          }}>{`values`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{` = [`}</span></span>{`\n`}<span parentName=\"code\" {...{\n          \"className\": \"vscode-highlight-line\"\n        }}><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{`    layer.`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk12\"\n          }}>{`triangleScale`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{`,`}</span></span>{`\n`}<span parentName=\"code\" {...{\n          \"className\": \"vscode-highlight-line\"\n        }}><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{`    `}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk7\"\n          }}>{`-1`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{`,`}</span></span>{`\n`}<span parentName=\"code\" {...{\n          \"className\": \"vscode-highlight-line\"\n        }}><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{`    `}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk7\"\n          }}>{`2`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{`,`}</span></span>{`\n`}<span parentName=\"code\" {...{\n          \"className\": \"vscode-highlight-line\"\n        }}><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{`    `}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk7\"\n          }}>{`-2`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{`,`}</span></span>{`\n`}<span parentName=\"code\" {...{\n          \"className\": \"vscode-highlight-line\"\n        }}><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{`    layer.`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk12\"\n          }}>{`triangleScale`}</span></span>{`\n`}<span parentName=\"code\" {...{\n          \"className\": \"vscode-highlight-line\"\n        }}><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{`]`}</span></span>{`\n`}<span parentName=\"code\" {...{\n          \"className\": \"vscode-highlight-line\"\n        }}><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{`animation.`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk12\"\n          }}>{`keyTimes`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{` = [`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk7\"\n          }}>{`0`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{`, `}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk7\"\n          }}>{`0.2`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{`, `}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk7\"\n          }}>{`0.5`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{`, `}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk7\"\n          }}>{`0.8`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{`, `}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk7\"\n          }}>{`1`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{`]`}</span></span>{`\n`}<span parentName=\"code\" {...{\n          \"className\": \"vscode-highlight-line\"\n        }}><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{`animation.`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk12\"\n          }}>{`timingFunctions`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{` = [`}</span></span>{`\n`}<span parentName=\"code\" {...{\n          \"className\": \"vscode-highlight-line\"\n        }}><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{`    .`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk4\"\n          }}>{`init`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{`(`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk11\"\n          }}>{`name`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{`: .`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk12\"\n          }}>{`easeInEaseOut`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{`),`}</span></span>{`\n`}<span parentName=\"code\" {...{\n          \"className\": \"vscode-highlight-line\"\n        }}><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{`    .`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk4\"\n          }}>{`init`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{`(`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk11\"\n          }}>{`name`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{`: .`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk12\"\n          }}>{`easeInEaseOut`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{`),`}</span></span>{`\n`}<span parentName=\"code\" {...{\n          \"className\": \"vscode-highlight-line\"\n        }}><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{`    .`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk4\"\n          }}>{`init`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{`(`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk11\"\n          }}>{`name`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{`: .`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk12\"\n          }}>{`easeInEaseOut`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{`),`}</span></span>{`\n`}<span parentName=\"code\" {...{\n          \"className\": \"vscode-highlight-line\"\n        }}><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{`    .`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk4\"\n          }}>{`init`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{`(`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk11\"\n          }}>{`name`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{`: .`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk12\"\n          }}>{`easeInEaseOut`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{`)`}</span></span>{`\n`}<span parentName=\"code\" {...{\n          \"className\": \"vscode-highlight-line\"\n        }}><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{`]`}</span></span>{`\n`}<span parentName=\"code\" {...{\n          \"className\": \"vscode-highlight-line\"\n        }}><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{`animation.`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk12\"\n          }}>{`duration`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{` = `}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk7\"\n          }}>{`8`}</span></span>{`\n`}<span parentName=\"code\" {...{\n          \"className\": \"vscode-highlight-line\"\n        }}><span parentName=\"span\" {...{\n            \"className\": \"mtk4\"\n          }}>{`self`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{`.`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk12\"\n          }}>{`metalView`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{`.`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk12\"\n          }}>{`layer`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{`.`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk11\"\n          }}>{`add`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{`(animation, `}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk11\"\n          }}>{`forKey`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{`: `}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk8\"\n          }}>{`\"expandScale\"`}</span><span parentName=\"span\" {...{\n            \"className\": \"mtk1\"\n          }}>{`)`}</span></span></code></pre>\n    <CaptionedImage max={400} filename=\"calayer-metal-5.gif\" alt=\"Blue triangle animating between multiple different scales with a keyframe animation\" caption=\"\" mdxType=\"CaptionedImage\" />\n    <h2 {...{\n      \"id\": \"conclusion-and-further-reading\"\n    }}>{`Conclusion and further reading`}</h2>\n    <p>{`CoreAnimation was always one of the more confusing parts of iOS development to me, but hopefully this post has helped to pull back the covers a bit on how the system works - going through these examples has certainly helped me understand how to make Metal play nicely with other parts of the iOS ecosystem.`}</p>\n    <p>{`There's a lot of great Apple and non-Apple content written about custom CALayer animations `}<em parentName=\"p\">{`not`}</em>{` related to Metal that I'd recommend checking out:`}</p>\n    <ul>\n      <li parentName=\"ul\"><a parentName=\"li\" {...{\n          \"href\": \"https://www.objc.io/issues/12-animations/animating-custom-layer-properties/\"\n        }}>{`Animating Custom Layer Properties`}</a></li>\n      <li parentName=\"ul\"><a parentName=\"li\" {...{\n          \"href\": \"https://vimeo.com/44986916\"\n        }}>{`Cocoaheads June 2012: Animating Custom Layer Properties`}</a></li>\n      <li parentName=\"ul\"><a parentName=\"li\" {...{\n          \"href\": \"https://academy.realm.io/posts/tryswift-tim-oliver-advanced-graphics-with-core-animation/\"\n        }}>{`Advanced Graphics with CoreAnimation`}</a></li>\n      <li parentName=\"ul\"><a parentName=\"li\" {...{\n          \"href\": \"https://nsscreencast.com/episodes/290-core-graphics-custom-calayer\"\n        }}>{`Custom CALayer`}</a></li>\n      <li parentName=\"ul\"><a parentName=\"li\" {...{\n          \"href\": \"https://developer.apple.com/library/archive/documentation/Cocoa/Conceptual/CoreAnimation_guide/AdvancedAnimationTricks/AdvancedAnimationTricks.html\"\n        }}>{`Advanced Animation Tricks`}</a></li>\n    </ul>\n\n    <style {...{\n      \"className\": \"vscode-highlight-styles\"\n    }}>{`\n  \n  .dark-default-dark {\nbackground-color: #1E1E1E;\ncolor: #D4D4D4;\n}\n\n.dark-default-dark .mtk1 { color: #D4D4D4; }\n.dark-default-dark .mtk2 { color: #1E1E1E; }\n.dark-default-dark .mtk3 { color: #6A9955; }\n.dark-default-dark .mtk4 { color: #569CD6; }\n.dark-default-dark .mtk5 { color: #D16969; }\n.dark-default-dark .mtk6 { color: #D7BA7D; }\n.dark-default-dark .mtk7 { color: #B5CEA8; }\n.dark-default-dark .mtk8 { color: #CE9178; }\n.dark-default-dark .mtk9 { color: #646695; }\n.dark-default-dark .mtk10 { color: #4EC9B0; }\n.dark-default-dark .mtk11 { color: #DCDCAA; }\n.dark-default-dark .mtk12 { color: #9CDCFE; }\n.dark-default-dark .mtk13 { color: #000080; }\n.dark-default-dark .mtk14 { color: #F44747; }\n.dark-default-dark .mtk15 { color: #C586C0; }\n.dark-default-dark .mtk16 { color: #6796E6; }\n.dark-default-dark .mtk17 { color: #808080; }\n.dark-default-dark .mtki { font-style: italic; }\n.dark-default-dark .mtkb { font-weight: bold; }\n.dark-default-dark .mtku { text-decoration: underline; text-underline-position: under; }\n`}</style>\n    </MDXLayout>;\n}\n;\nMDXContent.isMDXComponent = true;\n      "],"sourceRoot":""}